{"version":3,"sources":["utils/sendLogs.js","components/SignIn.js","utils/validateEmail.js","components/SignUp.js","components/Dashboard.js","components/GradosList.js","components/GradoTemasList.js","components/VocabloModal.js","components/TemaVocablosList.js","components/Explorar.js","components/CustomToast.js","components/Practica.js","components/UserMonitorModal.js","components/AprendicesMonitor.js","App.js","reportWebVitals.js","index.js"],"names":["a","logs","length","fetch","method","headers","localStorage","token","body","JSON","stringify","status","console","info","error","sendLogs","Copyright","props","Typography","variant","color","align","Link","href","Date","getFullYear","theme","createTheme","SignIn","setAuth","useState","email","password","inputs","setInputs","loading","setLoading","handleSubmit","event","preventDefault","correo","contrasena","response","json","parseRes","setItem","toast","success","toISOString","message","handleChange","e","target","name","value","ThemeProvider","Container","component","maxWidth","CssBaseline","Box","sx","marginTop","display","flexDirection","alignItems","Avatar","m","bgcolor","onSubmit","noValidate","mt","TextField","margin","required","fullWidth","id","label","type","onChange","autoComplete","autoFocus","Button","mb","disabled","CircularProgress","size","Grid","container","item","validateEmail","String","toLowerCase","match","SignUp","React","nombre","apellido","pais","ciudad","escuela","tipo_aprendiz","grado_instruccion_aprendiz","fecha_nacimiento","rol_usuario_id","genero","dateValue","setDateValue","roles","paises","ciudades","escuelas","tipoAprendiz","nivelInstruccion","metadata","setMetadata","isAprendiz","setIsAprendiz","getMetadata","metadataRes","setError","useEffect","handleChangeAutocomplete","log","localName","setTimeout","split","textContent","hasError","Number","fnDate","getMonth","getDay","spacing","xs","sm","LocalizationProvider","dateAdapter","AdapterDateFns","Stack","DatePicker","disableFuture","openTo","views","newValue","renderInput","params","Autocomplete","disablePortal","options","FormControl","FormLabel","RadioGroup","aria-labelledby","FormControlLabel","control","Radio","isAprendizVal","style","padding","justifyContent","AppBar","styled","MuiAppBar","shouldForwardProp","prop","open","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","marginLeft","width","enteringScreen","Drawer","MuiDrawer","position","whiteSpace","boxSizing","overflowX","breakpoints","up","mdTheme","AccountStyle","borderRadius","shape","backgroundColor","palette","grey","PanelItems","funcionalidad_sistema","navigate","useNavigate","funcionalidad","element","ListItemButton","onClick","ListItemIcon","ListItemText","primary","filter","elem","includes","map","DashboardContent","initialized","setInitialized","setOpen","userData","setUserData","toggleDrawer","getUserData","userDataRes","logout","removeItem","err","useTheme","window","innerWidth","values","Toolbar","pr","IconButton","edge","aria-label","marginRight","noWrap","flexGrow","backgraundColor","mx","src","alt","ml","rol_usuario","Divider","my","List","mode","height","overflow","pt","Dashboard","ItemList","grados","setQuery","index","md","grado","ListItemAvatar","image_src","GradosList","useSearchParams","setGrados","getGrados","direction","columns","temas","Card","CardMedia","objectFit","image","tema_image_src","CardContent","tema_nombre","fontSize","pl","pb","grado_id","tema","tema_id","GradoTemasList","setTemas","gradoTitle","setGradoTitle","getTemas","responseData","grado_nombre","startIcon","history","back","YoutubeEmbed","embedLink","url","URL","URLSearchParams","search","get","opts","playerVars","autoplay","loop","playlist","paddingTtop","top","left","bottom","right","textAlign","YouTube","videoId","onReady","styleVocabloModal","transform","minHeight","border","boxShadow","p","VocabloModal","imageSrc","videoSrc","buttonText","vocablo","onlyModal","handleClose","handleCloseAprendido","vocablo_id","indexImage","recursos","findIndex","tipo","indexVideo","enlace","Modal","onClose","aria-describedby","maxHeight","vocablo_palabra","alignSelf","vocablos","TemaVocablosList","setVocablos","temaTitle","setTemaTitle","getVocablos","Explorar","view","query","gradoQuery","temaQuery","CustomToast","REWARD_GOOD_RESPONSE","REWARD_BAD_RESPONSE","REWARD_CORRECTED_RESPONSE","styleTrofeoModal","generateConsultas","numeroConsultas","palabras","n","vocablosCopy","slice","consultas","tiposConsulta","i","randomIndex","Math","floor","random","splice","randomIndex2","tipo_consulta","push","currentPalabra","palabrasCopy","palabra","palabrasConsulta","randomIndex1","palabras_consulta","randomIndex3","randomIndex4","hasTrofeoAgil","secondsByConsulta","totalConsultas","totalConsultasCorrectas","consulta","responses","firstLog","lastLog","firstTimestamp","timestamp","getTime","diff","getPracticaDataFunc","voablosObj","reduce","prev","current","practicaData","undefined","fecha","total_consultas","total_correctas","usuario_id","consultasData","consultaRespuesta","vocablo_correcto_id","vocablo_respuesta_id","practica_id","practica","puntos","trofeos_imparables","trofeos_agil","getPracticaLogsFunc","logPractica","tema_grado","HorizontalNonLinearStepper","activeStep","setActiveStep","completed","setCompleted","steps","setSteps","results","setResults","newConsultas","addLogsToConsulta","totalSteps","allStepsCompleted","Object","keys","handleNext","newActiveStep","step","getResults","sendPracticaData","sendPracticaLogs","currentToastId","setCurrentToastId","setResponse","dismiss","reward","addLogsToActiveStep","autoClose","newCompleted","handleComplete","handleOpen","resultsAux","forEach","points","getResultsFunc","data","handleCloseEntendido","openTrofeo","setOpenTrofeo","trofeoData","setTrofeoData","handleCloseTrofeo","trofeoAux","trofeos_imparables_showed","trofeo_showing","trofeos_agil_showed","title","TrofeoModal","trofeo","flex","marginBottom","Stepper","nonLinear","Step","StepButton","subheader","ListSubheader","secondary","replace","endIcon","styleUsuarioMonitorModal","overflowY","getDateYYYYMMDD","date","year","month","day","getDate","getDateDDMMYYYY","LinearProgressWithLabel","mr","LinearProgress","minWidth","round","UserMonitorModal","usuarioRowData","setOpenModal","setData","gradoSelected","setGradoSelected","rangeSelected","setRangeSelected","fromDate","setFromDate","toDate","setToDate","canConsult","setCanConsult","checkCanConsult","newFromDate","newToDate","getUserMonitorData","usuarioTargetId","range","route","start","end","g","aprendiz_id","paddingLeft","paddingBottom","typeof","fromDate1","toDate1","setConsultByRange","Chip","TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableBody","practicas_realizadas","practicas_last_7days","total_incorrectas","trofeos","imparable","agil","trofeos_leal","temas_data","correctos","vocablos_correctos_counter","vistos","vocablos_vistos_counter","total","vocablos_counter","ListItem","AprendicesMonitor","usersData","setUsersData","addLoading","setAddLoading","removeLoading","setRemoveLoading","setCorreo","getUsersMonitorData","removeUser","openModal","setUsuarioRowData","row","scope","consultas_correctas","consultas_incorrectas","puntos_acumulados","Body","isAuthenticated","path","to","App","setIsAuthenticated","checkAuthenticated","res","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bf709675.chunk.js","sourcesContent":["\nasync function sendLogs({logs}) {\n\n  if (logs && logs.length > 0) {\n    try {\n      const response = await fetch(\"http://localhost:4000/logs\", {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          \"token\": localStorage.token,\n        },\n        body: JSON.stringify({logs}),\n      });\n\n      if (response.status === 204) {\n        console.info(\"logs sent\");\n\n      } else {\n        console.error(\"Unknown errors sending logs\");\n      }\n\n    } catch(err) {\n      // code to error action\n      console.error(\"Connection error sending logs\");\n    }\n\n  }\n  \n}\n\n\nexport default sendLogs;\n","// import * as React from 'react';\nimport React, { useState } from 'react';\nimport { toast } from \"react-toastify\";\n\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport Link from '@mui/material/Link';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport CircularProgress from '@mui/material/CircularProgress'\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport sendLogs from '../utils/sendLogs';\n\n\nfunction Copyright(props) {\n  return (\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"http://www.ula.ve\">\n        Universidad de los Andes\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst theme = createTheme();\n\nexport default function SignIn({ setAuth }) {\n\n  const [inputs, setInputs] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n\n\n  \n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    // const data = new FormData(event.currentTarget);\n    // console.log({\n    //   email: data.get('email'),\n    //   password: data.get('password'),\n    // });\n\n    try {\n      setLoading(true);\n      const body = { correo: inputs.email, contrasena: inputs.password };\n      const response = await fetch(\"http://localhost:4000/auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n        body: JSON.stringify(body),\n      });\n\n      const parseRes = await response.json();\n\n      setLoading(false);\n\n      if (parseRes.token) {\n        localStorage.setItem(\"token\", parseRes.token);\n        setAuth(true);\n        // toast.success(\"Logged in Successfully\");\n        toast.success(\"Sesión iniciada correctamente\");\n        //sesión\n\n        sendLogs({\n          logs: [\n            {\n              \"log_name\": \"Aprendiz: Inicia sesión\",\n              \"timestamp\": new Date().toISOString()\n            }\n          ]\n        });\n      } else {\n        setAuth(false);\n        toast.error(parseRes);\n      }\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  const handleChange = (e) =>\n    setInputs({ ...inputs, [e.target.name]: e.target.value });\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Inicio de sesión\n          </Typography>\n          <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Correo electronico\"\n              name=\"email\"\n              type=\"email\"\n              onChange={handleChange}\n              autoComplete=\"email\"\n              autoFocus\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Contraseña\"\n              type=\"password\"\n              id=\"password\"\n              onChange={handleChange}\n              autoComplete=\"current-password\"\n            />\n            {/* <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\n              label=\"Remember me\"\n            /> */}\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n              disabled={!inputs.email || !inputs.password || loading}\n            >\n              {loading ? (\n                  <CircularProgress color=\"inherit\" size={25} />\n                ) : (\n                  \"Iniciar sesión\"\n                )}\n            </Button>\n            <Grid container>\n              {/* <Grid item xs>\n                <Link href=\"#\" variant=\"body2\">\n                  Forgot password?\n                </Link>\n              </Grid> */}\n              <Grid item>\n                <Link href=\"/register\" variant=\"body2\">\n                  {\"¿No tienes una cuenta? Registrate\"}\n                </Link>\n              </Grid>\n            </Grid>\n          </Box>\n        </Box>\n        <Copyright sx={{ mt: 8, mb: 4 }} />\n      </Container>\n    </ThemeProvider>\n  );\n}","export default function validateEmail (email) {\n  return String(email)\n    .toLowerCase()\n    .match(\n      /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n    );\n};","import React, {useEffect} from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Link from '@mui/material/Link';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\n\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport Stack from '@mui/material/Stack';\n\nimport Radio from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport { toast } from \"react-toastify\";\nimport CircularProgress from '@mui/material/CircularProgress'\nimport validateEmail from '../utils/validateEmail';\n\n\n\nfunction Copyright(props) {\n  return (\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"http://www.ula.ve\">\n        Universidad de los Andes\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst theme = createTheme();\n\n// function RoleOptions({roles, setUserRoleValue}) {\n  \n//   const rolesTags = roles.map(elem => (\n//     <FormControlLabel key={elem.id} value={elem.id} control={<Radio />} label={elem.nombre} />\n//   ))\n\n//   const handleChange = (e) => {console.log({event: e, name: e.target.name, value: e.target.value})};\n\n//   return (\n//     <FormControl onChange={handleChange}>\n//       <FormLabel id=\"user-rol\">Rol</FormLabel>\n//       <RadioGroup\n//         aria-labelledby=\"user-rol\"\n//         name=\"radio-buttons-group\"\n//       >\n//        {rolesTags}\n//       </RadioGroup>\n//     </FormControl>\n//   );\n\n\n// }\n\n\nexport default function SignUp({ setAuth }) {\n  const [inputs, setInputs] = React.useState({\n    nombre: null,\n    apellido: null,\n    correo: null,\n    contrasena: null,\n    pais: null,\n    ciudad: null,\n    escuela: null,\n    tipo_aprendiz: null,\n    grado_instruccion_aprendiz: null,\n    fecha_nacimiento: null,\n    rol_usuario_id: null,\n    genero: null,\n  });\n  const [dateValue, setDateValue] = React.useState(null);\n  const [metadata, setMetadata] = React.useState({\n    roles: [],\n    paises: [],\n    ciudades: [],\n    escuelas: [],\n    tipoAprendiz: ['Estudiante', 'Familiar', 'A fin a la institución', 'Otro'],\n    nivelInstruccion: ['Primario', 'Profesional', 'Secundario', 'Medio-superior', 'Superior'],\n  });\n\n  const [isAprendiz, setIsAprendiz] = React.useState(false);\n  \n  const getMetadata = async () => {\n    try {\n      const response = await fetch(\"http://localhost:4000/auth/register-metadata\", {\n          method: \"GET\",\n          headers: {\n            \"Content-type\": \"application/json\",\n          },\n        });\n  \n      const metadataRes = await response.json();\n  \n      setMetadata({...metadata, ...metadataRes});\n\n    } catch(err) {\n      console.error(err);\n    }\n  }\n\n  const [loading, setLoading] = React.useState(false);\n\n  const [error, setError] = React.useState(false);\n\n\n  useEffect(() => {\n    getMetadata();\n  }, []);\n\n  const handleChange = (e) => {\n    setError(false);\n    setInputs({ ...inputs, [e.target.name]: e.target.value })\n  };\n\n  const handleChangeUserRole = (e) => {\n    setError(false);\n    const isAprendizVal = Number(e.target.value) === 2 ? true : false;\n    setIsAprendiz(isAprendizVal);\n    handleChange(e);\n  };\n\n  const handleChangeAutocomplete = (e) => {\n    setError(false);\n    console.log({event:e, name: e.target.name, value: e.target.value})\n\n    if (e.target.localName === 'input') {\n\n      setTimeout(() => {\n        setInputs({ ...inputs, [e.target.name]: e.target.value })\n      }, 400);\n\n    } else {\n      const name = e.target.id.split(\"-\")[0];\n      setInputs({ ...inputs, [name]: e.target.textContent })\n    }\n  };\n  \n  \n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    let hasError = false;    \n    \n    if (\n      !inputs.nombre ||\n      !inputs.apellido ||\n      !inputs.correo ||\n      !inputs.contrasena ||\n      !inputs.pais ||\n      !inputs.ciudad ||\n      !inputs.escuela ||\n      !inputs.fecha_nacimiento ||\n      !inputs.rol_usuario_id ||\n      !inputs.genero\n    ) {\n      hasError = true;\n    } else if (Number(inputs.rol_usuario_id) === 2 && (!inputs.tipo_aprendiz || !inputs.grado_instruccion_aprendiz)) {\n      hasError = true;\n    } else if (!validateEmail(inputs.correo)) {\n      hasError = true;\n    }\n\n    setError(hasError);\n\n    if (hasError) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const fnDate = new Date(inputs.fecha_nacimiento);\n      const fecha_nacimiento = `${fnDate.getFullYear()}-${fnDate.getMonth()}-${fnDate.getDay()}`;\n      const body = {...inputs, fecha_nacimiento};\n      const response = await fetch(\"http://localhost:4000/auth/register\", {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n        body: JSON.stringify(body),\n      });\n\n      const parseRes = await response.json();\n\n      setLoading(false);\n\n      if (parseRes.token) {\n        localStorage.setItem(\"token\", parseRes.token);\n        setAuth(true);\n        // toast.success(\"Logged in Successfully\");\n        toast.success(\"Cuenta creada correctamente\");\n      } else {\n        setAuth(false);\n        toast.error(parseRes);\n      }\n    } catch (err) {\n      toast.error(\"Error de conexion.\");\n      setLoading(false);\n      console.error(err.message);\n    }\n  };\n\n\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Registro de usuario\n          </Typography>\n          <Box component=\"form\" noValidate onSubmit={handleSubmit} sx={{ mt: 3 }}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  autoComplete=\"given-name\"\n                  name=\"nombre\"\n                  required\n                  fullWidth\n                  id=\"nombre\"\n                  label=\"Nombres\"\n                  onChange={handleChange}\n                  autoFocus\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  required\n                  fullWidth\n                  id=\"apellido\"\n                  label=\"Apellidos\"\n                  name=\"apellido\"\n                  onChange={handleChange}\n                  autoComplete=\"family-name\"\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <LocalizationProvider dateAdapter={AdapterDateFns}>\n                  <Stack spacing={3}>\n                    <DatePicker\n                      disableFuture\n                      label=\"Fecha de nacimiento\"\n                      openTo=\"year\"\n                      views={['year', 'month', 'day']}\n                      value={dateValue}\n                      onChange={(newValue) => {\n                        setDateValue(newValue);\n                        setInputs({...inputs, fecha_nacimiento: newValue})\n                      }}\n                      renderInput={(params) => <TextField {...params} />}\n                    />\n                  </Stack>\n                </LocalizationProvider>\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  id=\"correo\"\n                  label=\"Correo electronico\"\n                  name=\"correo\"\n                  type=\"email\"\n                  onChange={handleChange}\n                  autoComplete=\"email\"\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  name=\"contrasena\"\n                  label=\"Contraseña\"\n                  type=\"password\"\n                  id=\"contrasena\"\n                  onChange={handleChange}\n                  autoComplete=\"new-password\"\n                />\n              </Grid>\n              <Grid  item xs={12} sm={6}>\n                <Autocomplete\n                    disablePortal\n                    id=\"pais\"\n                    options={metadata.paises}\n                    name=\"pais\"\n                    onChange={handleChangeAutocomplete}\n                    renderInput={(params) => <TextField {...params} name=\"pais\" label=\"Pais\" />}\n                  />\n              </Grid>\n              <Grid  item xs={12} sm={6}>\n                <Autocomplete\n                    disablePortal\n                    id=\"ciudad\"\n                    options={metadata.ciudades}\n                    name=\"ciudad\"\n                    onChange={handleChangeAutocomplete}\n                    renderInput={(params) => <TextField {...params} name=\"ciudad\" label=\"Ciudad\" />}\n                  />\n              </Grid>\n              <Grid  item xs={12}>\n                <Autocomplete\n                    disablePortal\n                    id=\"escuela\"\n                    options={metadata.escuelas}\n                    name=\"escuela\"\n                    onChange={handleChangeAutocomplete}\n                    renderInput={(params) => <TextField {...params} name=\"escuela\" label=\"Escuela\" />}\n                  />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <FormControl onChange={handleChange}>\n                  <FormLabel id=\"gender-options\">Genero</FormLabel>\n                  <RadioGroup\n                    aria-labelledby=\"gender-options\"\n                    name=\"genero\"\n                  >\n                    <FormControlLabel value=\"femenino\" control={<Radio />} label=\"Femenino\" />\n                    <FormControlLabel value=\"masculino\" control={<Radio />} label=\"Masculino\" />\n                    <FormControlLabel value=\"otro\" control={<Radio />} label=\"Otro\" />\n                  </RadioGroup>\n                </FormControl>\n\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <FormControl onChange={handleChangeUserRole}>\n                  <FormLabel id=\"user-role\">Rol de usuario</FormLabel>\n                  <RadioGroup\n                    aria-labelledby=\"user-role\"\n                    name=\"rol_usuario_id\"\n                  >\n                    <FormControlLabel value={2} control={<Radio />} label=\"Aprendiz\" />\n                    <FormControlLabel value={1} control={<Radio />} label=\"Profesor\" />\n                  </RadioGroup>\n                </FormControl>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} style={{ padding: isAprendiz ? '16px 0px 0px 0px' : '0px' }}>\n              { isAprendiz ? (\n                <Autocomplete\n                  disablePortal\n                  id=\"tipo_aprendiz\"\n                  options={metadata.tipoAprendiz}\n                  name=\"tipo_aprendiz\"\n                  onChange={handleChangeAutocomplete}\n                  renderInput={(params) => <TextField {...params} name=\"tipo_aprendiz\" label=\"Tipo de Aprendiz\" />}\n                />\n              ) : ('')\n              }\n            </Grid>\n            <Grid item xs={12} style={{ padding: isAprendiz ? '16px 0px 0px 0px' : '0px' }}>\n              { isAprendiz ? (\n                <Autocomplete\n                  disablePortal\n                  id=\"grado_instruccion_aprendiz\"\n                  options={metadata.nivelInstruccion}\n                  name=\"grado_instruccion_aprendiz\"\n                  onChange={handleChangeAutocomplete}\n                  renderInput={(params) => <TextField {...params} name=\"grado_instruccion_aprendiz\"  label=\"Nivel de instrucción\" />}\n                />\n              ) : ('')\n              }\n            </Grid>\n            <Grid item xs={12} style={{ padding: error ? '16px 0px 0px 0px' : '0px' }}>\n              { error ? (\n                <Typography variant=\"caption\" display=\"block\" style={{color: 'red'}}>\n                  Debe completar todos los campos.\n                </Typography>\n              ) : ('')\n              }\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n              disabled={error || loading}\n            >\n              {loading ? (\n                  <CircularProgress color=\"inherit\" size={25} />\n                ) : (\n                  \"Registrarse\"\n                )}\n            </Button>\n            <Grid container justifyContent=\"flex-end\">\n              <Grid item>\n                <Link href=\"/login\" variant=\"body2\">\n                ¿Tienes una cuenta? Inicia sesión\n                </Link>\n              </Grid>\n            </Grid>\n          </Box>\n        </Box>\n        <Copyright sx={{ mt: 5 }} />\n      </Container>\n    </ThemeProvider>\n  );\n}","import React from 'react';\nimport { styled, createTheme, ThemeProvider, useTheme } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport MuiDrawer from '@mui/material/Drawer';\nimport Box from '@mui/material/Box';\nimport MuiAppBar from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport List from '@mui/material/List';\nimport Typography from '@mui/material/Typography';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport Container from '@mui/material/Container';\n// import Grid from '@mui/material/Grid';\n// import Paper from '@mui/material/Paper';\nimport Link from '@mui/material/Link';\nimport Avatar from '@mui/material/Avatar';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\n// import NotificationsIcon from '@mui/icons-material/Notifications';\nimport { toast } from \"react-toastify\";\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport PeopleIcon from '@mui/icons-material/People';\nimport DashboardIcon from '@mui/icons-material/Dashboard';\nimport {\n  Outlet,\n  useNavigate\n} from \"react-router-dom\";\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport sendLogs from '../utils/sendLogs';\n\n\nfunction Copyright(props) {\n  return (\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://mui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst drawerWidth = 240;\n\nconst AppBar = styled(MuiAppBar, {\n  shouldForwardProp: (prop) => prop !== 'open',\n})(({ theme, open }) => ({\n  zIndex: theme.zIndex.drawer + 1,\n  transition: theme.transitions.create(['width', 'margin'], {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen,\n  }),\n  ...(open && {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  }),\n}));\n\nconst Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(\n  ({ theme, open }) => ({\n    '& .MuiDrawer-paper': {\n      position: 'relative',\n      whiteSpace: 'nowrap',\n      width: drawerWidth,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n      boxSizing: 'border-box',\n      ...(!open && {\n        overflowX: 'hidden',\n        transition: theme.transitions.create('width', {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.leavingScreen,\n        }),\n        width: theme.spacing(7),\n        [theme.breakpoints.up('sm')]: {\n          width: theme.spacing(9),\n        },\n      }),\n    },\n  }),\n);\n\nconst mdTheme = createTheme();\n\nconst AccountStyle = styled('div')(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  padding: theme.spacing(2, 2.5),\n  borderRadius: Number(theme.shape.borderRadius) * 1.5,\n  backgroundColor: theme.palette.grey[500_12] || '#ddd',\n}));\n\nfunction PanelItems({funcionalidad_sistema}) {\n\n  const navigate = useNavigate();\n  \n\n  if (!funcionalidad_sistema) {\n    return null;\n  }\n\n  \n  const goTo1 = () => {\n    // console.log({event:e, name: e.target.name})\n    // navigate(e.target.name);\n    navigate(\"explorar\");\n  }\n\n  const goTo2 = () => {\n    // console.log({event:e, name: e.target.name})\n    // navigate(e.target.name);\n    navigate(\"aprendices\");\n  }\n\n  const elements = [\n    {\n      funcionalidad: 'panel-practica',\n      element: (\n        <ListItemButton onClick={goTo1} key=\"pp001\">\n          <ListItemIcon>\n            <DashboardIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Explora y practica\" />\n        </ListItemButton>\n      )\n    },\n\n    {\n      funcionalidad: 'panel-profesor',\n      element: (\n        <ListItemButton onClick={goTo2} key=\"pp002\">\n          <ListItemIcon>\n            <PeopleIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Aprendices\" />\n        </ListItemButton>\n      )\n    },\n  ]\n\n  return elements.filter(elem => funcionalidad_sistema.includes(elem.funcionalidad)).map(elem => elem.element);\n\n}\n\nfunction DashboardContent({setAuth}) {\n  const [initialized, setInitialized] = React.useState(false);\n  const [open, setOpen] = React.useState(true);\n  const [userData, setUserData] = React.useState({});\n  const toggleDrawer = () => {\n    setOpen(!open);\n  };\n\n\n  const getUserData = async () => {\n    try {\n      const response = await fetch(\"http://localhost:4000/usuario\", {\n          method: \"GET\",\n          headers: {\n            \"Content-type\": \"application/json\",\n            \"token\": localStorage.token,\n          },\n        });\n  \n      const userDataRes = await response.json();\n  \n      setUserData({ ...userDataRes});\n\n    } catch(err) {\n      console.error(err);\n    }\n  }\n\n  \n  const logout = async (e) => {\n    e.preventDefault();\n    try {\n      localStorage.removeItem(\"token\");\n      // toast.success(\"Logout successfully\");\n      toast.success(\"Sesión cerrada\");\n      setAuth(false); \n\n      sendLogs({\n        logs: [\n          {\n            \"log_name\": \"Aprendiz: Cierra sesión\",\n            \"timestamp\": new Date().toISOString(),\n          },\n        ]\n      })\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n\n  React.useEffect(() => {\n    getUserData();\n  } , []);\n\n  const theme = useTheme();\n\n  if (!initialized && window.innerWidth <= theme.breakpoints.values.sm) {\n    setTimeout(() => {\n      setOpen(false);\n      setInitialized(true);\n    }, 400);\n  }\n\n  return (\n    <ThemeProvider theme={mdTheme}>\n      <Box sx={{ display: 'flex' }}>\n        <CssBaseline />\n        <AppBar position=\"absolute\" open={open}>\n          <Toolbar\n            sx={{\n              pr: '24px', // keep right padding when drawer closed\n            }}\n          >\n            {\n              open ? (\n                <IconButton onClick={toggleDrawer}>\n                  <ChevronLeftIcon />\n                </IconButton>\n              ): (\n                <IconButton\n                  edge=\"start\"\n                  color=\"inherit\"\n                  aria-label=\"open drawer\"\n                  onClick={toggleDrawer}\n                  sx={{\n                    marginRight: '36px',\n                    ...(open && { display: 'none' }),\n                  }}\n                >\n                  <MenuIcon />\n                </IconButton>\n              )\n            }\n            <Typography\n              component=\"h1\"\n              variant=\"h6\"\n              color=\"inherit\"\n              noWrap\n              sx={{ flexGrow: 1 }}\n            >\n              Practica LSV\n            </Typography>\n            {/* <IconButton color=\"inherit\">\n              <Badge badgeContent={4} color=\"secondary\">\n                <NotificationsIcon />\n              </Badge>\n            </IconButton> */}\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              aria-label=\"logout\"\n              onClick={logout}\n            >\n              <LogoutIcon />\n            </IconButton>\n          </Toolbar>\n        </AppBar>\n        <Drawer variant=\"permanent\" open={open} sx={{backgraundColor: '#1976d2', color: \"#fff\"}}>\n          {/* <Toolbar\n            sx={{\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'flex-end',\n              px: [1],\n            }}\n          >\n            <IconButton onClick={toggleDrawer}>\n              <ChevronLeftIcon />\n            </IconButton>\n          </Toolbar>\n          <Divider /> */}\n          <Box sx={{ mb: 2, mx: 1.5 }} style={{marginTop:\"16px\"}}>\n            {\n              open ? (\n                <AccountStyle>\n                  <Avatar src=\"/image.png\" alt=\"photoURL\" />\n                  <Box sx={{ ml: 1 }}>\n                    <Typography variant=\"subtitle2\" sx={{ color: 'text.primary' }}>\n                      {`${userData.nombre} ${userData.apellido}`}\n                    </Typography>\n                    {/* <Typography variant=\"body2\" noWrap={true} style={{width:\"100%\", fontSize: \"80%\"}} sx={{ color: 'text.primary' }}>\n                      {userData.correo}\n                    </Typography> */}\n                    <Typography variant=\"body2\" sx={{ color: 'text.secondary' }}>\n                      {userData.rol_usuario}\n                    </Typography>\n                  </Box>\n                  \n                </AccountStyle>\n\n              ): (null)\n            }\n          </Box>\n          <Divider sx={{ my: 1 }} />\n          <List component=\"nav\">\n            <PanelItems funcionalidad_sistema={userData.funcionalidad_sistema} />\n            {/* {mainListItems}\n            <Divider sx={{ my: 1 }} />\n            {secondaryListItems} */}\n          </List>\n        </Drawer>\n        <Box\n          component=\"main\"\n          sx={{\n            backgroundColor: (theme) =>\n              theme.palette.mode === 'light'\n                ? theme.palette.grey[100]\n                : theme.palette.grey[900],\n            flexGrow: 1,\n            height: '100vh',\n            overflow: 'auto',\n          }}\n        >\n          <Toolbar />\n          <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\n            <Outlet />\n            {/* <Grid container spacing={3}>\n              <Grid item xs={12} md={8} lg={9}>\n                <Paper\n                  sx={{\n                    p: 2,\n                    display: 'flex',\n                    flexDirection: 'column',\n                    height: 240,\n                  }}\n                >\n                  <Chart />\n                </Paper>\n              </Grid>\n              <Grid item xs={12} md={4} lg={3}>\n                <Paper\n                  sx={{\n                    p: 2,\n                    display: 'flex',\n                    flexDirection: 'column',\n                    height: 240,\n                  }}\n                >\n                </Paper>\n              </Grid>\n              <Grid item xs={12}>\n                <Paper sx={{ p: 2, display: 'flex', flexDirection: 'column' }}>\n                  <Orders />\n                </Paper>\n              </Grid>\n            </Grid> */}\n            <Copyright sx={{ pt: 4 }} />\n          </Container>\n        </Box>\n      </Box>\n    </ThemeProvider>\n  );\n}\n\nexport default function Dashboard({setAuth}) {\n\n\n  return <DashboardContent setAuth={setAuth} />;\n}","import * as React from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast } from \"react-toastify\";\n\nimport { experimentalStyled as styled } from '@mui/material/styles';\nimport { Avatar, Box, Grid, ListItemButton, ListItemAvatar, ListItemText,CircularProgress } from '@mui/material';\nimport sendLogs from '../utils/sendLogs';\n\n\nconst AccountStyle = styled('div')(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  // padding: theme.spacing(2, 2.5),\n  borderRadius: Number(theme.shape.borderRadius) * 1.5,\n  // backgroundColor: theme.palette.grey[500_12] || '#ddd',\n  backgroundColor: theme.palette.grey[500_12] || '#e3e4fa',  \n}));\n\nconst ItemList = ({grados, setQuery}) => {\n\n\n\n  return grados.map((elem, index) => (\n    <Grid item xs={4} sm={4} md={4} key={index}>\n      <AccountStyle>\n        <ListItemButton onClick={()=> {setQuery({grado: elem.id})}}>\n          <ListItemAvatar>\n            <Avatar src={elem.image_src}>\n            </Avatar>\n          </ListItemAvatar>\n          <ListItemText primary={elem.nombre}/>\n        </ListItemButton>\n      </AccountStyle>\n    </Grid>\n  ));\n};\n\nexport default function GradosList() {\n\n  const [query, setQuery] = useSearchParams();\n  const [grados, setGrados] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n\n  const getGrados = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(\"http://localhost:4000/grados\", {\n          method: \"GET\",\n          headers: {\n            \"Content-type\": \"application/json\",\n            \"token\": localStorage.token,\n          },\n        });\n  \n      const userDataRes = await response.json();\n  \n      setGrados(userDataRes);\n      setLoading(false);\n\n      sendLogs({\n        logs: [\n          {\n            \"log_name\": \"Aprendiz: Visualiza lista de grados\",\n            \"timestamp\": new Date().toISOString(),\n          },\n        ]\n      });\n\n    } catch(err) {\n      setLoading(false);\n      console.error(err);\n      toast.error(\"Error de red\");\n    }\n  }\n\n  React.useEffect(() => {\n    getGrados();\n  }, []);\n\n  return ( loading ?\n    (<Grid container direction=\"row\" justifyContent=\"center\"><CircularProgress color=\"inherit\" size={25} /></Grid>) :(<Box sx={{ flexGrow: 1 }}>\n      <Grid\n        container\n        spacing={{ xs: 2, md: 4 }}\n        columns={{ xs: 4, sm: 8, md: 8 }}\n      >\n        <ItemList grados={grados} setQuery={setQuery} />\n      </Grid>\n    </Box>)\n  );\n}\n\n// export default function ResponsiveCardsList() {\n//   return (\n//     <Box sx={{ flexGrow: 1 }}>\n//       <Grid\n//         container\n//         spacing={{ xs: 2, md: 3 }}\n//         columns={{ xs: 4, sm: 9, md: 12 }}\n//       >\n//         {Array.from(Array(6)).map((_, index) => (\n//           <Grid item xs={2} sm={3} md={3} key={index}>\n//             {/* <Item>xs=2 {index + 1}</Item> */}\n//             <AccountStyle>\n//               <Avatar src=\"/image.png\" alt=\"photoURL\" />\n//               <Box sx={{ ml: 1 }}>\n//                 <Typography variant=\"subtitle2\" sx={{ color: 'text.primary' }}>\n//                   Grado {index}\n//                 </Typography>\n//               </Box>\n//             </AccountStyle>\n//           </Grid>\n//         ))}\n//       </Grid>\n//     </Box>\n//   );\n// }\n\n","import * as React from 'react';\nimport { toast } from \"react-toastify\";\nimport { useSearchParams } from 'react-router-dom'\n\nimport { Box, Grid,CircularProgress, Button } from '@mui/material';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport Typography from '@mui/material/Typography';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport sendLogs from '../utils/sendLogs';\n\n\nconst ItemList = ({temas, setQuery}) => {\n\n  // const temas2 = temas.map((elem) => ({...elem, tema_image_src: `/assets/images/image${Math.floor(Math.random() * 58)}.png` }));\n\n  return temas.map((elem, index) => (\n    <Grid item xs={4} sm={4} md={4} key={index}>\n      <Card sx={{ display: 'flex', justifyContent: \"space-between\", backgroundColor: '#e3e4fa',   }}>\n        <CardMedia\n          component=\"img\"\n          sx={{ width: 130, height: 130, objectFit: 'contain' }}\n          image={elem.tema_image_src}\n          alt=\"Live from space album cover\"\n        />\n        <Box sx={{ display: 'flex', flexDirection: 'column', flexGrow: 1}}>\n          <CardContent sx={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-start', justifyContent: \"flex-start\" }}>\n            <Typography variant=\"subtitle1\" color=\"text.secondary\" component=\"div\">\n              {elem.tema_nombre}\n            </Typography>\n            <Typography variant=\"string\" color=\"text.secondary\" component=\"div\" style={{color: \"#999999\", fontSize: '12px'}}>\n              Tema\n            </Typography>\n          </CardContent>\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: \"flex-end\", pl: 1, pb: 1, padding: '16px' }}>\n            <Button variant=\"outlined\" onClick={() => {setQuery({grado: elem.grado_id, tema: elem.tema_id})}}>Explorar</Button>\n          </Box>\n        </Box>\n      </Card>\n    </Grid>\n  ));\n};\n\nexport default function GradoTemasList({grado}) {\n\n  const [query, setQuery] = useSearchParams();\n  const [temas, setTemas] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n  const [gradoTitle, setGradoTitle] = React.useState();\n\n\n\n\n  const getTemas = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`http://localhost:4000/temas-by-grado/${grado}`, {\n          method: \"GET\",\n          headers: {\n            \"Content-type\": \"application/json\",\n            \"token\": localStorage.token,\n          },\n        });\n  \n      const responseData = await response.json();\n  \n      setTemas(responseData);\n      setLoading(false);\n      const gradoTitle = responseData && responseData[0] ? responseData[0].grado_nombre : null;\n      setGradoTitle(gradoTitle);\n\n      sendLogs({\n        logs: [\n          {\n            \"log_name\": \"Aprendiz: Visualiza lista de temas\",\n            \"timestamp\": new Date().toISOString(),\n            \"grado\": gradoTitle\n          },\n        ]\n      });\n\n    } catch(err) {\n      setLoading(false);\n      console.error(err);\n      toast.error(\"Error de red\");\n    }\n  }\n\n  React.useEffect(() => {\n    getTemas();\n  }, []);\n\n  return ( loading ?\n    (<Grid container direction=\"row\" justifyContent=\"center\"><CircularProgress color=\"inherit\" size={25} /></Grid>) :(\n      <Box sx={{ flexGrow: 1 }}>\n        <Box style={{display: 'flex', justifyContent: 'flex-start'}}>\n          <Button variant=\"outlined\" color=\"warning\" startIcon={<ChevronLeftIcon />} onClick={() => {window.history.back()}}>Volver</Button>\n        </Box>\n        <Typography variant=\"h4\" sx={{ color: 'text.primary', padding: '16px' }}>\n          Temas de {<b>{gradoTitle}</b>}\n        </Typography>\n        <Grid\n          container\n          spacing={{ xs: 2, md: 4 }}\n          columns={{ xs: 4, sm: 8, md: 8 }}\n        >\n          <ItemList temas={temas} setQuery={setQuery} />\n        </Grid>\n      </Box>\n    )\n  );\n}\n\n// export default function ResponsiveCardsList() {\n//   return (\n//     <Box sx={{ flexGrow: 1 }}>\n//       <Grid\n//         container\n//         spacing={{ xs: 2, md: 3 }}\n//         columns={{ xs: 4, sm: 9, md: 12 }}\n//       >\n//         {Array.from(Array(6)).map((_, index) => (\n//           <Grid item xs={2} sm={3} md={3} key={index}>\n//             {/* <Item>xs=2 {index + 1}</Item> */}\n//             <AccountStyle>\n//               <Avatar src=\"/image.png\" alt=\"photoURL\" />\n//               <Box sx={{ ml: 1 }}>\n//                 <Typography variant=\"subtitle2\" sx={{ color: 'text.primary' }}>\n//                   Grado {index}\n//                 </Typography>\n//               </Box>\n//             </AccountStyle>\n//           </Grid>\n//         ))}\n//       </Grid>\n//     </Box>\n//   );\n// }\n\n","import * as React from 'react';\nimport YouTube from 'react-youtube';\nimport {Box, Button, Modal, Typography, Grid, CardMedia} from '@mui/material';\n\n\nexport function YoutubeEmbed({ embedLink }) {\n  const onPlayerReady = (event) => {\n    // access to player in all event handlers via event.target\n    // event.target.pauseVideo();\n  }\n\n\n  const url = new URL(embedLink);\n  const searchParams = new URLSearchParams(url.search);\n  const id = searchParams.get('v');\n\n  const opts = {\n    // height: '200px',\n    // width: '320p',\n    height: '300px',\n    width: '100%',\n    playerVars: {\n      // https://developers.google.com/youtube/player_parameters\n      autoplay: 1,\n      loop: 1,\n      playlist: id\n    },\n  };\n  \n  return <div style={{\n            backgroundColor: 'red',\n            position: 'relative',\n            width: '100%',\n            height: '300px',\n            paddingTtop: '60.93%',\n          }}>\n            <div style={{\n              position:  'absolute',\n              top: 0,\n              left: 0,\n              bottom: 0,\n              right: 0,\n              textAlign: 'center',\n            }}>\n              <YouTube videoId={id} opts={opts} onReady={onPlayerReady} />\n            </div>\n          </div>\n  };\n\nexport const styleVocabloModal = {\n  position: 'absolute',\n  top: '20%',\n  left: '20%',\n  transform: 'translate(-10%, -10%)',\n  width: '80%',\n  minHeight: '400px',\n  bgcolor: 'background.paper',\n  border: '1px solid #666',\n  borderRadius: '16px',\n  boxShadow: 24,\n  p: 4,\n};\n\nexport default function VocabloModal({buttonText, vocablo, onlyModal}) {\n  const [open, setOpen] = React.useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const handleCloseAprendido = async () => {\n\n    try {\n      const response = await fetch(\"http://localhost:4000/vocablo-visto\", {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          \"token\": localStorage.token,\n        },\n        body: JSON.stringify({grado_id: vocablo.grado_id, tema_id: vocablo.tema_id, vocablo_id: vocablo.vocablo_id}),\n      });\n\n      if (response.status === 204) {\n        console.info(\"vocablo visto\");\n\n      } else {\n        console.error(\"Unknown errors sending vocablo-visto\");\n      }\n\n    } catch(err) {\n      // code to error action\n      console.error(\"Connection error sending vocablo-visto\");\n    }\n    \n    setOpen(false)\n  };\n\n  const indexImage = vocablo && vocablo.recursos ? vocablo.recursos.findIndex(elem => elem.tipo === 'image') : -1;\n  let imageSrc;\n  const indexVideo = vocablo && vocablo.recursos ? vocablo.recursos.findIndex(elem => elem.tipo === 'video') : -1;\n  let videoSrc;\n\n  if (indexImage !== -1) {\n    imageSrc = vocablo.recursos[indexImage].enlace;\n  }\n\n  if (indexVideo !== -1) {\n    videoSrc = vocablo.recursos[indexVideo].enlace;\n  }\n\n  if (onlyModal) {\n    setOpen(true);\n  }\n\n  return (\n    <div>\n      {!onlyModal ? (<Button variant=\"outlined\" onClick={handleOpen}>{buttonText}</Button>) : null}\n      <Modal\n        // keepMounted\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"keep-mounted-modal-title\"\n        aria-describedby=\"keep-mounted-modal-description\"\n      >\n        <Box sx={styleVocabloModal}>\n          <Grid container spacing={{ xs: 2, sm: 3, md: 3 }} columns={{ xs: 4, sm: 8, md: 8 }}>\n            <Grid item xs={4} sm={4} md={4} >\n              <Typography id=\"keep-mounted-modal-title\" variant=\"subtitle2\">\n                Imagen\n              </Typography>\n              <CardMedia\n                component=\"img\"\n                sx={{ maxWidth: 350, maxHeight: 300 }}\n                // image={elem.tema_image_src}\n                image={imageSrc}\n                alt={`imagen del vocablo ${vocablo.vocablo_palabra}`}\n              />\n            </Grid>\n            <Grid item xs={4} sm={4} md={4} >\n              <Typography id=\"keep-mounted-modal-title\" variant=\"subtitle2\">\n                  Video\n              </Typography>\n              <YoutubeEmbed embedLink={videoSrc} />\n            </Grid>\n            <Grid item xs={4} sm={4} md={4} >\n              <Typography id=\"keep-mounted-modal-description\" variant=\"subtitle2\">\n                Palabra\n              </Typography>\n              <Typography id=\"keep-mounted-modal-title\" variant=\"h3\" component=\"h2\">\n                {vocablo.vocablo_palabra}\n              </Typography>\n            </Grid>\n            <Grid item xs={4} sm={4} md={4} style={{minHeight: \"150px\", display: 'flex', justifyContent: 'flex-end', alignItems: 'flex-end', alignSelf: \"stretch\"}}>\n              <Button variant=\"text\" color=\"error\" onClick={handleClose}>Cerrar</Button>\n              <Button variant=\"contained\" color=\"success\" onClick={handleCloseAprendido} style={{marginLeft: '24px'}}>Aprendido</Button>\n            </Grid>\n          </Grid>\n          {/* <Grid container spacing={{ xs: 5, md: 3 }} columns={{ xs: 4, sm: 8, md: 8 }} style={{alignSelf: \"stretch\"}}>\n          </Grid> */}\n        </Box>\n      </Modal>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { toast } from \"react-toastify\";\nimport {useNavigate,  useSearchParams } from 'react-router-dom'\n\nimport { Box, Grid,CircularProgress, Button } from '@mui/material';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport Typography from '@mui/material/Typography';\nimport VocabloModal from './VocabloModal';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport sendLogs from '../utils/sendLogs';\n\nconst ItemList = ({vocablos, setQuery}) => {\n\n\n  return vocablos.map((elem, index) => {\n    \n    const indexImage = elem && elem.recursos ? elem.recursos.findIndex(elem => elem.tipo === 'image') : -1;\n    let imageSrc;\n\n    if (indexImage !== -1) {\n      imageSrc = elem.recursos[indexImage].enlace;\n    }\n    \n    return(\n    <Grid item xs={4} sm={4} md={4} key={index}>\n      <Card sx={{ display: 'flex', justifyContent: \"space-between\", backgroundColor: '#fff',   }}>\n        <CardMedia\n          component=\"img\"\n          sx={{ width: 130, height: 130, objectFit: 'contain' }}\n          image={imageSrc}\n          alt=\"Live from space album cover\"\n        />\n        <Box sx={{ display: 'flex', flexDirection: 'column', flexGrow: 1}}>\n          <CardContent sx={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-start', justifyContent: \"flex-start\" }}>\n            <Typography variant=\"subtitle1\" color=\"text.secondary\" component=\"div\">\n              {elem.vocablo_palabra }\n            </Typography>\n            <Typography variant=\"string\" color=\"text.secondary\" component=\"div\" style={{color: \"#999999\", fontSize: '12px'}}>\n              Vocablo\n            </Typography>\n          </CardContent>\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: \"flex-end\", pl: 1, pb: 1, padding: '16px' }}>\n            {/* <Button variant=\"outlined\" size=\"small\" onClick={() => {setQuery({grado: elem.grado_id, tema: elem.tema_id})}}>Estudiar vocablo</Button> */}\n            <VocabloModal buttonText=\"Estudiar vocablo\" vocablo={elem} />\n          </Box>\n        </Box>\n      </Card>\n    </Grid>\n  )});\n};\n\nexport default function TemaVocablosList({grado, tema}) {\n\n  const [query, setQuery] = useSearchParams();\n  const [vocablos, setVocablos] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n  const [gradoTitle, setGradoTitle] = React.useState();\n  const [temaTitle, setTemaTitle] = React.useState();\n\n  const navigate = useNavigate();\n\n\n  const getVocablos = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`http://localhost:4000/vocablos-by-grado-tema/${grado}/${tema}`, {\n          method: \"GET\",\n          headers: {\n            \"Content-type\": \"application/json\",\n            \"token\": localStorage.token,\n          },\n        });\n  \n      const responseData = await response.json();\n  \n      setVocablos(responseData);\n      setLoading(false);\n      const gradoTitle = responseData && responseData[0] ? responseData[0].grado_nombre : null;\n      const temaTitle = responseData && responseData[0] ? responseData[0].tema_nombre : null;\n      setGradoTitle(gradoTitle);\n      setTemaTitle(temaTitle);\n\n      sendLogs({\n        logs: [\n          {\n            \"log_name\": \"Aprendiz: Vizualiza tema\",\n            \"timestamp\": new Date().toISOString(),\n            \"grado\": gradoTitle,\n            \"tema\": temaTitle\n          }\n        ]\n      })\n\n\n    } catch(err) {\n      setLoading(false);\n      console.error(err);\n      toast.error(\"Error de red\");\n    }\n  }\n\n  React.useEffect(() => {\n    getVocablos();\n  }, []);\n\n  return ( loading ?\n    (<Grid container direction=\"row\" justifyContent=\"center\"><CircularProgress color=\"inherit\" size={25} /></Grid>) :(\n      <Box sx={{ flexGrow: 1 }}>\n        <Box style={{display: 'flex', justifyContent: 'space-between'}}>\n          <Button variant=\"outlined\" color=\"warning\" startIcon={<ChevronLeftIcon />} onClick={() => {window.history.back()}}>Volver</Button>\n          <Button variant=\"contained\" color=\"primary\" size=\"large\" onClick={() => {navigate(`/dashboard/practica?grado=${grado}&tema=${tema}`, )}}>Comenzar Practica</Button>\n        </Box>\n        <Typography variant=\"h4\" sx={{ color: 'text.primary', padding: '16px' }}>\n          Vocablos de {<b>{temaTitle}</b>} - {<span style={{color: \"#999\"}}>{gradoTitle}</span>}\n        </Typography>\n        {/* <Grid\n          container\n          spacing={{ xs: 2, md: 4 }}\n          columns={{ xs: 4, sm: 8, md: 12 }}\n          justifyContent=\"flex-end\"\n        >\n          <Grid item xs={4} sm={4} md={4} key=\"item-12312\">\n          <Button variant=\"contained\" color=\"secundary\">\n            Comenzar una Practica\n          </Button>\n          </Grid>\n        </Grid> */}\n        <Grid\n          container\n          spacing={{ xs: 2, md: 4 }}\n          columns={{ xs: 4, sm: 8, md: 12 }}\n        >\n          <ItemList vocablos={vocablos} setQuery={setQuery} />\n        </Grid>\n        <Box style={{display: 'flex', justifyContent: 'flex-end', marginTop: '16px'}}>\n          <Button variant=\"contained\" color=\"primary\" size=\"large\" onClick={() => {navigate(`/dashboard/practica?grado=${grado}&tema=${tema}`, )}}>Comenzar Practica</Button>\n        </Box>\n      </Box>\n    )\n  );\n}\n\n// export default function ResponsiveCardsList() {\n//   return (\n//     <Box sx={{ flexGrow: 1 }}>\n//       <Grid\n//         container\n//         spacing={{ xs: 2, md: 3 }}\n//         columns={{ xs: 4, sm: 9, md: 12 }}\n//       >\n//         {Array.from(Array(6)).map((_, index) => (\n//           <Grid item xs={2} sm={3} md={3} key={index}>\n//             {/* <Item>xs=2 {index + 1}</Item> */}\n//             <AccountStyle>\n//               <Avatar src=\"/image.png\" alt=\"photoURL\" />\n//               <Box sx={{ ml: 1 }}>\n//                 <Typography variant=\"subtitle2\" sx={{ color: 'text.primary' }}>\n//                   Grado {index}\n//                 </Typography>\n//               </Box>\n//             </AccountStyle>\n//           </Grid>\n//         ))}\n//       </Grid>\n//     </Box>\n//   );\n// }\n\n","import * as React from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport GradosList from './GradosList';\nimport GradoTemasList from './GradoTemasList';\nimport TemaVocablosList from './TemaVocablosList';\n\nexport default function Explorar() {\n  let view = 'grados';\n\n  const [query, setQuery] = useSearchParams();\n\n  const gradoQuery = query.get('grado');\n\n  const temaQuery = query.get('tema');\n\n  if (typeof gradoQuery === 'string') {\n    view = 'temas';\n  }\n\n  if (view === 'temas' && typeof temaQuery === 'string') {\n    view = 'vocablos';\n  }\n\n  // console.log({gradoQuery, typeof: typeof gradoQuery});\n\n  return (view === 'temas' ? \n          <GradoTemasList grado={Number(gradoQuery)} /> :\n          view === 'vocablos' ?\n          <TemaVocablosList grado={Number(gradoQuery)} tema={Number(temaQuery)}/> :\n          <GradosList />)\n}","import * as React from 'react';\n\nimport { Box } from '@mui/material';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport Typography from '@mui/material/Typography';\n\nexport default function CustomToast({imageSrc, message}) {\n\n  return (\n    <Box sx={{ display: 'flex', justifyContent: \"space-between\", backgroundColor: '#fff',   }}>\n        <CardMedia\n          component=\"img\"\n          sx={{ width: 80, height: 80 }}\n          image={imageSrc}\n          alt=\"Live from space album cover\"\n        />\n        <Box sx={{ display: 'flex', flexDirection: 'column', flexGrow: 1}}>\n          <CardContent sx={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-start', justifyContent: \"flex-start\" }}>\n            <Typography variant=\"h6\" color=\"text.secondary\" component=\"div\">\n              {message }\n            </Typography>\n          </CardContent>\n        </Box>\n      </Box>\n  );\n}","import * as React from 'react';\nimport { toast } from \"react-toastify\";\nimport { useSearchParams, useNavigate } from 'react-router-dom'\n\nimport Box from '@mui/material/Box';\nimport Modal from '@mui/material/Modal';\nimport Grid from '@mui/material/Grid';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Stepper from '@mui/material/Stepper';\nimport Step from '@mui/material/Step';\nimport StepButton from '@mui/material/StepButton';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport CardMedia from '@mui/material/CardMedia';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport ListSubheader from '@mui/material/ListSubheader';\nimport List from '@mui/material/List';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport SchoolIcon from '@mui/icons-material/School';\nimport CategoryIcon from '@mui/icons-material/Category';\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport ScoreIcon from '@mui/icons-material/Score';\nimport RestartAltIcon from '@mui/icons-material/RestartAlt';\nimport { YoutubeEmbed, styleVocabloModal } from './VocabloModal';\nimport sendLogs from '../utils/sendLogs';\n\nimport CustomToast from './CustomToast';\n\nconst REWARD_GOOD_RESPONSE = [\n  {\n    message: '¡Bien hecho!',\n    imageSrc: '/assets/trofeos/good-response.png',\n  },\n  {\n    message: '¡Buen trabajo!',\n    imageSrc: '/assets/trofeos/good-response.png',\n  },\n  {\n    message: '¡Genial!',\n    imageSrc: '/assets/trofeos/good-response.png',\n  },\n  {\n    message: '¡Excelente!',\n    imageSrc: '/assets/trofeos/good-response.png',\n  },\n  {\n    message: '¡Perfecto!',\n    imageSrc: '/assets/trofeos/good-response.png',\n  },\n];\n\nconst REWARD_BAD_RESPONSE = [\n  {\n    message: '¡Sigue intentando!',\n    imageSrc: '/assets/trofeos/bad-response.png',\n  },\n  {\n    message: '¡Vamos! Tu puedes',\n    imageSrc: '/assets/trofeos/bad-response.png',\n  },\n  {\n    message: 'No es correcto.',\n    imageSrc: '/assets/trofeos/bad-response.png',\n  },\n  {\n    message: '¡Puedes hacerlo!',\n    imageSrc: '/assets/trofeos/bad-response.png',\n  },\n];\n\nconst REWARD_CORRECTED_RESPONSE = [\n  {\n    message: '¡Lo lograste!',\n    imageSrc: '/assets/trofeos/corrected-response.png',\n  },\n  {\n    message: '¡Asi es!',\n    imageSrc: '/assets/trofeos/corrected-response.png',\n  },\n  {\n    message: '¡Eso era todo!',\n    imageSrc: '/assets/trofeos/corrected-response.png',\n  },\n  {\n    message: '¡Sigue asi!',\n    imageSrc: '/assets/trofeos/corrected-response.png',\n  },\n];\n\n\n// const steps = ['Select campaign settings', 'Create an ad group', 'Create an ad'];\n\nexport const styleTrofeoModal = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: '300px',\n  minHeight: '300px',\n  bgcolor: 'background.paper',\n  border: '1px solid #666',\n  borderRadius: '16px',\n  boxShadow: 24,\n  p: 4,\n  display:'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n};\n\nfunction generateConsultas({vocablos, numeroConsultas}) {\n\n  const palabras = vocablos.map(elem => elem.vocablo_palabra);\n\n  const n = numeroConsultas <= vocablos.length ? numeroConsultas : vocablos.length;\n\n  const vocablosCopy = vocablos.slice(0);\n\n  const consultas = [];\n\n  // const tiposConsultas = ['image', 'video'];\n  const tiposConsulta = ['image', 'video'];\n\n  for (let i = 0; i < n; i++) {\n    // const element = array[i];\n    const randomIndex = Math.floor(Math.random() * vocablosCopy.length);\n    const vocablo = vocablosCopy.splice(randomIndex, 1)[0];\n\n    const indexImage = vocablo && vocablo.recursos ? vocablo.recursos.findIndex(elem => elem.tipo === 'image') : -1;\n    let imageSrc;\n    const indexVideo = vocablo && vocablo.recursos ? vocablo.recursos.findIndex(elem => elem.tipo === 'video') : -1;\n    let videoSrc;\n\n    if (indexImage !== -1) {\n      imageSrc = vocablo.recursos[indexImage].enlace;\n    }\n\n    if (indexVideo !== -1) {\n      videoSrc = vocablo.recursos[indexVideo].enlace;\n    }\n\n    vocablo.imageSrc = imageSrc;\n    vocablo.videoSrc = videoSrc;\n\n    const randomIndex2 = Math.floor(Math.random() * tiposConsulta.length);\n    vocablo.tipo_consulta = tiposConsulta[randomIndex2];\n\n\n    consultas.push(vocablo);\n  }\n\n  for (let i = 0; i < consultas.length; i++) {\n    const consulta = consultas[i];\n    const currentPalabra = consulta.vocablo_palabra;\n    const palabrasCopy = palabras.filter(palabra => palabra !== currentPalabra);\n\n    const palabrasConsulta = [currentPalabra];\n\n    const randomIndex1 = Math.floor(Math.random() * palabrasCopy.length);\n    palabrasConsulta.push(palabrasCopy.splice(randomIndex1, 1)[0]);\n    const randomIndex2 = Math.floor(Math.random() * palabrasCopy.length);\n    palabrasConsulta.push(palabrasCopy.splice(randomIndex2, 1)[0]);\n\n    const palabras_consulta = [];\n    \n    const randomIndex3 = Math.floor(Math.random() * palabrasConsulta.length);\n    palabras_consulta.push(palabrasConsulta.splice(randomIndex3, 1)[0]);\n    \n    const randomIndex4 = Math.floor(Math.random() * palabrasConsulta.length);\n    palabras_consulta.push(palabrasConsulta.splice(randomIndex4, 1)[0]);\n\n    palabras_consulta.push(palabrasConsulta[0]);\n\n    consultas[i].palabras_consulta = palabras_consulta;\n  }\n\n  return consultas;\n}\n\nfunction hasTrofeoAgil({consultas, secondsByConsulta = 5}) {\n\n  if (!consultas || consultas.length === 0) {\n    return false;\n  }\n\n  const totalConsultas = consultas.length;\n  let totalConsultasCorrectas = 0;\n\n  for (const consulta of consultas) {\n    if (consulta.vocablo_palabra === consulta.responses[0]) {\n      totalConsultasCorrectas += 1;\n    }\n    \n    if (!consulta.responses || !consulta.logs) {\n      return false;\n    }\n  }\n\n  const firstLog = consultas[0].logs[0];\n  const lastLog = consultas[consultas.length - 1].logs[consultas[consultas.length - 1].logs.length - 1];\n\n  const firstTimestamp = new Date(firstLog.timestamp).getTime();\n  const lastTimestamp = new Date(lastLog.timestamp).getTime();\n  const diff = lastTimestamp - firstTimestamp;\n\n  if (diff > 0 && diff <= secondsByConsulta * 1000 && totalConsultas === totalConsultasCorrectas) {\n    return true;\n  }\n  \n  return false;\n}\n\nfunction getResultsFunc({consultas}) {\n\n  if (!consultas || consultas.length === 0) {\n    return undefined;\n  }\n  \n  try {\n    const totalConsultas = consultas.length;\n    let totalConsultasCorrectas = 0;\n    let points = 0;\n  \n    consultas.forEach(elem => {\n      if (elem.vocablo_palabra === elem.responses[0]) {\n        totalConsultasCorrectas += 1;\n      }\n    });\n  \n    points = totalConsultasCorrectas * 100;\n  \n    return {\n      totalConsultas,\n      totalConsultasCorrectas,\n      points,\n      trofeos_imparables: totalConsultas === totalConsultasCorrectas ? 1 : 0,\n      trofeos_agil: hasTrofeoAgil({consultas}) ? 1 : 0,\n    }\n\n  } catch(err) {\n    // Las consultas no estan completas\n  }\n\n  return  undefined;\n\n}\n\nfunction getPracticaDataFunc({consultas, vocablos}) {\n\n  if (!consultas || consultas.length === 0) {\n    return undefined;\n  }\n\n  if (!vocablos || vocablos.length === 0) {\n    return undefined;\n  }\n\n  for (const consulta of consultas) {\n    \n    if (!consulta.responses) {\n      return undefined;\n    }\n  }\n\n  const voablosObj = vocablos.reduce((prev, current) => {\n    prev[current.vocablo_palabra] = current;\n\n    return prev;\n  } , {});\n\n  const practicaData = {\n    id: undefined,\n    fecha: new Date().toISOString(),\n    total_consultas: 0,\n    total_correctas: 0,\n    usuario_id: null,\n    tema_id: consultas[0].tema_id,\n    grado_id: consultas[0].grado_id,\n  };\n\n  const consultasData = [];\n\n  const totalConsultas = consultas.length;\n  let totalConsultasCorrectas = 0;\n\n  \n  for (const consulta of consultas) {\n    \n    if (consulta.vocablo_palabra === consulta.responses[0]) {\n      totalConsultasCorrectas += 1;\n    }\n\n    const consultaRespuesta = voablosObj[consulta.responses[0]]\n\n    console.log({voablosObj, consulta, response: consulta.responses});\n    \n    consultasData.push({\n      id: undefined,\n      tipo: consulta.tipo_consulta,\n      vocablo_correcto_id: consulta.vocablo_id,\n      vocablo_respuesta_id: consultaRespuesta.vocablo_id,\n      practica_id: null,\n    })\n\n    \n  }\n\n  practicaData.total_consultas = totalConsultas;\n  practicaData.total_correctas = totalConsultasCorrectas;\n  \n  return {\n    practica: practicaData,\n    consultas: consultasData,\n    puntos: totalConsultasCorrectas * 100,\n    trofeos_imparables: totalConsultas === totalConsultasCorrectas ? 1 : 0,\n    trofeos_agil: hasTrofeoAgil({consultas}) ? 1 : 0,\n  }\n\n}\n\nfunction getPracticaLogsFunc({consultas}) {\n\n  if (!consultas || consultas.length === 0) {\n    return undefined;\n  }\n\n  for (const consulta of consultas) {\n    \n    if (!consulta.responses) {\n      return undefined;\n    }\n  }\n\n  const logPractica = {\n    \"log_name\": \"Practica\",\n    \"timestamp\": new Date().toISOString(),\n    \"grado\": consultas[0].grado_nombre,\n    \"tema\": consultas[0].tema_nombre,\n    \"total_consultas\": 0,\n    \"total_correctas\": 0,\n    \"logs\": []\n  }\n\n  const totalConsultas = consultas.length;\n  let totalConsultasCorrectas = 0;\n\n  for (const consulta of consultas) {\n    if (consulta.vocablo_palabra === consulta.responses[0]){\n      totalConsultasCorrectas += 1;\n    }\n\n    if (consulta.logs && consulta.logs.length > 0) {\n      logPractica.logs.push(...consulta.logs.slice(0));\n    }\n  }\n\n  logPractica.total_consultas = totalConsultas;\n  logPractica.total_correctas = totalConsultasCorrectas;\n\n  return [\n    logPractica,\n    {\n      \"log_name\": \"Aprendiz: Termina una práctica\",\n      \"timestamp\": new Date().toISOString(),\n      \"grado\": consultas[0].grado_nombre,\n      \"tema\": consultas[0].tema_grado,\n    },\n    // {\n    //   \"log_name\": \"Sistema: Muestra gamificación al finalizar práctica\",\n    //   \"timestamp\": new Date().toISOString(),\n    //   \"mensaje\": \"!Impresionante nombre!, lograste un puntaje muy alto en el desafio ¡sigue asi!\",\n    //   \"gif\": \"felicitar002.gif\"\n    // },\n  ]\n\n}\n\nexport default function HorizontalNonLinearStepper() {\n  const [activeStep, setActiveStep] = React.useState(0);\n  const [completed, setCompleted] = React.useState({});\n  const [steps, setSteps] = React.useState([]);\n  const [results, setResults] = React.useState({});\n\n  const [query, setQuery] = useSearchParams();\n  const [vocablos, setVocablos] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n  const [gradoTitle, setGradoTitle] = React.useState();\n  const [temaTitle, setTemaTitle] = React.useState();\n\n  const grado = query.get('grado');\n  const tema = query.get('tema');\n  const navigate = useNavigate();\n\n  const getVocablos = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`http://localhost:4000/vocablos-by-grado-tema/${grado}/${tema}`, {\n          method: \"GET\",\n          headers: {\n            \"Content-type\": \"application/json\",\n            \"token\": localStorage.token,\n          },\n        });\n  \n      const responseData = await response.json();\n  \n      setVocablos(responseData);\n      setLoading(false);\n      const gradoTitle = responseData && responseData[0] ? responseData[0].grado_nombre : null;\n      const temaTitle = responseData && responseData[0] ? responseData[0].tema_nombre : null;\n      setGradoTitle(gradoTitle);\n      setTemaTitle(temaTitle);\n\n      const consultas = generateConsultas({vocablos: responseData, numeroConsultas: 10});\n      const newConsultas = addLogsToConsulta({\n        logs: [\n          {\n            \"log_name\": \"Sistema: Inicia una consulta\",\n            \"timestamp\": new Date().toISOString(),\n            \"tipo_consulta\": consultas[0].tipo_consulta,\n            \"palabras\": consultas[0].palabras_consulta.slice(0),\n            \"respuesta_correcta\": consultas[0].vocablo_palabra,\n          }\n        ],\n        consultas,\n        index: 0,\n      });\n\n      setSteps(newConsultas);\n\n      sendLogs({logs: [\n        {\n          \"log_name\": \"Aprendiz: Inicia una práctica\",\n          \"timestamp\": new Date().toISOString(),\n          \"grado\": newConsultas[0].grado_nombre,\n          \"tema\": newConsultas[0].tema_nombre,\n        },\n      ]})\n\n    } catch(err) {\n      setLoading(false);\n      console.error(err);\n      toast.error(\"Error de red\");\n    }\n  }\n\n  React.useEffect(() => {\n    getVocablos();\n  }, []);\n\n  const totalSteps = () => {\n    return steps.length;\n  };\n\n  const completedSteps = () => {\n    return Object.keys(completed).length;\n  };\n\n  const isLastStep = () => {\n    return activeStep === totalSteps() - 1;\n  };\n\n  const allStepsCompleted = () => {\n    \n    return completedSteps() === totalSteps();\n  };\n\n  const handleNext = () => {\n    const newActiveStep =\n      isLastStep() && !allStepsCompleted()\n        ? // It's the last step, but not all steps have been completed,\n          // find the first step that has been completed\n          steps.findIndex((step, i) => !(i in completed))\n        : activeStep + 1;\n        \n    if (steps[newActiveStep] && !steps[newActiveStep].logs) {\n      const newConsultas = addLogsToConsulta({\n        logs: [\n          {\n            \"log_name\": \"Sistema: Inicia una consulta\",\n            \"timestamp\": new Date().toISOString(),\n            \"tipo_consulta\": steps[newActiveStep].tipo_consulta,\n            \"palabras\": steps[newActiveStep].palabras_consulta.slice(0),\n            \"respuesta_correcta\": steps[newActiveStep].vocablo_palabra,\n          }\n        ],\n        consultas: steps,\n        index: newActiveStep,\n      });\n      setSteps(newConsultas);\n    }\n        \n    setActiveStep(newActiveStep);\n    getResults({consultas: steps});\n    sendPracticaData({consultas: steps});\n    sendPracticaLogs({consultas: steps})\n  };\n\n  // const handleBack = () => {\n  //   setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  // };\n\n  const handleStep = (step) => () => {\n    setActiveStep(step);\n  };\n\n  const handleComplete = () => {\n    const newCompleted = completed;\n    newCompleted[activeStep] = true;\n    setCompleted(newCompleted);\n    handleNext();\n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n    setCompleted({});\n    getVocablos();\n  };\n\n  console.log({steps: steps.slice(0), completed, activeStep});\n\n  /** Logica Practica */\n  const [open, setOpen] = React.useState(false);\n  const [currentToastId, setCurrentToastId] = React.useState(undefined);\n\n  const setResponse = ({palabra}) => {\n\n    const consulta = steps[activeStep];\n\n    if (!consulta.responses) {\n      consulta.responses = [];\n    }\n\n    consulta.responses.push(palabra);\n\n    setSteps(steps);\n\n    if (currentToastId) {\n      toast.dismiss(currentToastId);\n    }\n\n    if (consulta.vocablo_palabra === palabra) {      \n\n      let reward;\n      if (consulta.responses && consulta.responses[0] === consulta.vocablo_palabra) {\n        reward =  REWARD_GOOD_RESPONSE[(Math.floor((Math.random() * REWARD_GOOD_RESPONSE.length)))];\n      } else {\n        reward =  REWARD_CORRECTED_RESPONSE[(Math.floor((Math.random() * REWARD_CORRECTED_RESPONSE.length)))];\n      }\n\n      \n      addLogsToActiveStep({\n        logs: [\n          {\n            \"log_name\": \"Aprendiz: Responde una consulta\",\n            \"timestamp\": new Date().toISOString(),\n            \"respuesta_es_correcta\": true,\n            \"respuesta_usuario\": palabra,\n          },\n          {\n            \"log_name\": \"Sistema: Muestra gamificación por respuesta correcta\",\n            \"timestamp\": new Date().toISOString(),\n            \"mensaje\": reward.message,\n            \"image\": reward.imageSrc\n          },\n        ]\n      });\n\n      // const id = toast.success(reward.mensaje, {autoClose: 2000});\n      const id = toast(<CustomToast imageSrc={reward.imageSrc} message={reward.message} />, {autoClose: 2000});\n      setCurrentToastId(id);\n      handleComplete();\n    } else {\n\n     const reward =  REWARD_BAD_RESPONSE[(Math.floor((Math.random() * REWARD_BAD_RESPONSE.length)))];\n\n      addLogsToActiveStep({\n        logs: [\n          {\n            \"log_name\": \"Aprendiz: Responde una consulta\",\n            \"timestamp\": new Date().toISOString(),\n            \"respuesta_es_correcta\": false,\n            \"respuesta_usuario\": palabra,\n          },\n          {\n            \"log_name\": \"Sistema: Muestra gamificación por respuesta incorrecta\",\n            \"timestamp\": new Date().toISOString(),\n            \"mensaje\": reward.message,\n            \"image\": reward.imageSrc\n          },\n          {\n            \"log_name\": \"Sistema: Muestra corrección\",\n            \"timestamp\": new Date().toISOString(),\n            \"respuesta_correcta\": consulta.vocablo_palabra\n          },\n        ]\n      });\n\n      const id = toast(<CustomToast imageSrc={reward.imageSrc} message={reward.message} />, {autoClose: 2000});\n      setCurrentToastId(id);\n      handleOpen();\n    }\n    \n  };\n\n  const getResults = ({consultas}) => {\n    const resultsAux = getResultsFunc({consultas});\n\n    if (resultsAux) {\n      setResults(resultsAux);\n    }\n  }\n\n  const sendPracticaData = async ({consultas}) => {\n    const data = getPracticaDataFunc({consultas, vocablos});\n\n    if (data) {\n      try {\n        const response = await fetch(\"http://localhost:4000/practica\", {\n          method: \"POST\",\n          headers: {\n            \"Content-type\": \"application/json\",\n            \"token\": localStorage.token,\n          },\n          body: JSON.stringify(data),\n        });\n\n        if (response.status === 204) {\n          toast.success(\"Practica terminada correctamente\");\n        } else {\n          toast.error(\"Error desconocido\");\n\n        }\n\n      } catch(err) {\n        // code to error action\n        toast.error(\"Error de conexion\");\n      }\n\n    }\n  }\n\n  const sendPracticaLogs = async ({consultas}) => {\n    const logs = getPracticaLogsFunc({consultas});\n\n    console.log({logs});\n\n    if (logs) {\n      sendLogs({logs});\n    }\n  }\n\n  // Manejando logs\n\n  const addLogsToConsulta = ({logs, consultas, index}) => {\n\n    if (!logs || logs.length === 0) {\n      return consultas;\n    }\n\n    if (!consultas || consultas.length === 0) {\n      return consultas;\n    }\n\n    if (typeof index !== 'number') {\n      return consultas;\n    }\n\n    if (!consultas[index].logs) {\n      consultas[index].logs = [];\n    }\n\n    for (const log of logs) {\n      consultas[index].logs.push(log);\n    }\n\n    const newConsultas = consultas.slice(0);\n\n    return newConsultas;\n  }\n\n  const addLogsToActiveStep = ({logs}) => {\n    \n    if (!logs || logs.length === 0) {\n      return;\n    }\n\n    const newConsultas = addLogsToConsulta({logs, consultas: steps, index: activeStep});\n\n    setSteps(newConsultas);\n  }\n  \n  // Vocablo modal\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n    addLogsToActiveStep({\n      logs: [\n        {\n          \"log_name\": \"Aprendiz: Cierra modal de correción\",\n          \"timestamp\": new Date().toISOString(),\n        },\n      ]\n    });\n  };\n\n  const handleCloseEntendido = () => {\n    setOpen(false);\n    addLogsToActiveStep({\n      logs: [\n        {\n          \"log_name\": \"Aprendiz: Indica que entendió corrección\",\n          \"timestamp\": new Date().toISOString(),\n        },\n      ]\n    });\n  };\n\n  const VocabloModal  = ({ vocablo }) => {\n  \n    const indexImage = vocablo && vocablo.recursos ? vocablo.recursos.findIndex(elem => elem.tipo === 'image') : -1;\n    let imageSrc;\n    const indexVideo = vocablo && vocablo.recursos ? vocablo.recursos.findIndex(elem => elem.tipo === 'video') : -1;\n    let videoSrc;\n  \n    if (indexImage !== -1) {\n      imageSrc = vocablo.recursos[indexImage].enlace;\n    }\n  \n    if (indexVideo !== -1) {\n      videoSrc = vocablo.recursos[indexVideo].enlace;\n    }\n  \n  \n    return (\n      <div>\n        {\n          vocablo ? \n          <Modal\n            // keepMounted\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"keep-mounted-modal-title\"\n            aria-describedby=\"keep-mounted-modal-description\"\n          >\n            <Box sx={styleVocabloModal}>\n              <Grid container spacing={{ xs: 2, sm: 3, md: 3 }} columns={{ xs: 4, sm: 8, md: 8 }}>\n                <Grid item xs={4} sm={4} md={4} >\n                  <Typography id=\"keep-mounted-modal-title\" variant=\"subtitle2\">\n                    Imagen\n                  </Typography>\n                  <CardMedia\n                    component=\"img\"\n                    sx={{ maxWidth: 350, maxHeight: 300 }}\n                    // image={elem.tema_image_src}\n                    image={imageSrc}\n                    alt={`imagen del vocablo ${vocablo.vocablo_palabra}`}\n                  />\n                </Grid>\n                <Grid item xs={4} sm={4} md={4} >\n                  <Typography id=\"keep-mounted-modal-title\" variant=\"subtitle2\">\n                      Video\n                  </Typography>\n                  <YoutubeEmbed embedLink={videoSrc} />\n                </Grid>\n                <Grid item xs={4} sm={4} md={4} >\n                  <Typography id=\"keep-mounted-modal-description\" variant=\"subtitle2\">\n                    Palabra\n                  </Typography>\n                  <Typography id=\"keep-mounted-modal-title\" variant=\"h3\" component=\"h2\" style={{backgroundColor: \"yellow\"}}>\n                    {vocablo.vocablo_palabra}\n                  </Typography>\n                </Grid>\n                <Grid item xs={4} sm={4} md={4} style={{minHeight: \"150px\", display: 'flex', justifyContent: 'flex-end', alignItems: 'flex-end', alignSelf: \"stretch\"}}>\n                  {/*<Button variant=\"text\" color=\"error\" onClick={handleClose}>Cerrar</Button>*/}\n                  <Button variant=\"contained\" color=\"success\" onClick={handleCloseEntendido}>Entendido</Button>\n                </Grid>\n              </Grid>\n            </Box>\n          </Modal> :\n          null\n\n        }\n      </div>\n    );\n  }\n\n  // Trofeo\n\n  const [openTrofeo, setOpenTrofeo] = React.useState(false);\n  const [trofeoData, setTrofeoData] = React.useState();\n\n  const handleCloseTrofeo = () => {\n    const trofeoAux = trofeoData;\n    setOpenTrofeo(false);\n    setTrofeoData(undefined);\n\n    if (trofeoAux.type === 'imparable') {\n      setResults({...results, trofeos_imparables_showed: true, trofeo_showing: false});\n    } else if (trofeoAux.type === 'agil') {\n      setResults({...results, trofeos_agil_showed: true, trofeo_showing: false});\n    }\n  }\n\n  if (results && results.trofeos_imparables && !results.trofeos_imparables_showed && !results.trofeo_showing) {\n    setResults({...results, trofeo_showing: true});\n    setTrofeoData({type: 'imparable', title: 'Ganaste un trofeo Imparable', message: ''});\n    setOpenTrofeo(true);\n  } else if (results && results.trofeos_agil && !results.trofeos_agil_showed && !results.trofeo_showing) {\n    setResults({...results, trofeo_showing: true});\n    setTrofeoData({type: 'agil', title: 'Ganaste un trofeo Agil', message: ''});\n    setOpenTrofeo(true);\n  }\n\n\n  console.log({results, trofeoData})\n\n\n  const TrofeoModal  = ({ trofeo }) => {\n\n    if (!trofeo) {\n      return null;\n    }\n    \n    let imageSrc;\n    if (trofeo.type === 'imparable') {\n      imageSrc = '/assets/trofeos/imparable.png';\n    } else if (trofeo.type === 'agil') {\n      imageSrc = '/assets/trofeos/agil.png';\n    }\n  \n    return (\n      <div>\n        {\n          trofeo ? (\n          <Modal\n            // keepMounted\n            open={openTrofeo}\n            onClose={handleCloseTrofeo}\n            aria-labelledby=\"keep-mounted-modal-title\"\n            aria-describedby=\"keep-mounted-modal-description\"\n          >\n            <Box sx={styleTrofeoModal}>\n              <CardMedia\n                component=\"img\"\n                sx={{ maxWidth: 300, maxHeight: 300 }}\n                image={imageSrc}\n                alt={`trofeo ${trofeo.type}`}\n              />\n              <Typography id=\"keep-mounted-modal-title\" variant=\"h5\" color=\"success\">\n                {trofeo.title}\n              </Typography>\n              <Typography id=\"keep-mounted-modal-title\" variant=\"subtitle2\" >\n                {trofeo.message}\n              </Typography>\n              <Box sx={{ display: 'flex', flexDirection: 'row', pt: 2 }}>\n                <Box sx={{ flex: '1 1 auto' }} />\n                <Button aria-label=\"close modal\" onClick={handleCloseTrofeo}>Ok</Button>\n              </Box>\n            </Box>\n          </Modal>\n          ): null\n        }\n      </div>\n    );\n  }\n\n  return (\n    loading ?\n    (<Grid container direction=\"row\" justifyContent=\"center\"><CircularProgress color=\"inherit\" size={25} /></Grid>) :\n    (\n      <Box sx={{ width: '100%' }}>\n        <Box style={{display: 'flex', justifyContent: 'space-between', marginBottom: '32px'}}>\n        <Button variant=\"outlined\" color=\"warning\" startIcon={<ChevronLeftIcon />} onClick={() => {window.history.back()}}>Volver</Button>\n        </Box>\n        <Stepper nonLinear activeStep={activeStep}>\n          {steps.map((label, index) => (\n            <Step key={`step-${index}`} completed={completed[index]}>\n              <StepButton color=\"inherit\" onClick={handleStep(index)}>\n                {''}\n              </StepButton>\n            </Step>\n          ))}\n        </Stepper>\n        <div>\n          {allStepsCompleted() ? (\n            <React.Fragment>\n              <Typography variant=\"h4\" sx={{ mt: 2, mb: 1 }}>\n                Practica Finalizada\n              </Typography>\n              <Box sx={{display: 'flex', flexDirection: 'row', justifyContent: 'space-around', marginTop: '24px'}}>\n                {/*<Box sx={{ flex: '1 1 auto' }} />*/}\n                {/*<Button onClick={handleReset}>Reset</Button>*/}\n                <Box>\n                  <List\n                    sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}\n                    component=\"nav\"\n                    aria-labelledby=\"nested-list-subheader\"\n                    subheader={\n                      <ListSubheader component=\"div\" id=\"nested-list-subheader\">\n                        Resultados\n                      </ListSubheader>\n                    }\n                  >\n                    <ListItemButton key=\"list-1\">\n                      <ListItemIcon>\n                        <SchoolIcon color=\"primary\" />\n                      </ListItemIcon>\n                      <ListItemText primary={gradoTitle} secondary=\"Grado\"/>\n                    </ListItemButton>\n                    <ListItemButton  key=\"list-2\">\n                      <ListItemIcon>\n                        <CategoryIcon color=\"primary\" />\n                      </ListItemIcon>\n                      <ListItemText primary={temaTitle} secondary=\"Tema\"/>\n                    </ListItemButton>\n                    <ListItemButton  key=\"list-3\">\n                      <ListItemIcon>\n                        <CheckCircleIcon color=\"primary\" />\n                      </ListItemIcon>\n                      <ListItemText primary={`${results.totalConsultasCorrectas}/${results.totalConsultas}`} secondary=\"Respuestas correctas\"/>\n                    </ListItemButton>\n                    <ListItemButton  key=\"list-4\">\n                      <ListItemIcon>\n                        <ScoreIcon color=\"primary\" />\n                      </ListItemIcon>\n                      <ListItemText primary={results.points} secondary=\"Puntos\"/>\n                    </ListItemButton>\n                  </List>\n                </Box>\n                <Box sx={{display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center'}}>\n                  <CardMedia\n                    component=\"img\"\n                    sx={{ maxWidth: 200, maxHeight: 200 }}\n                    image=\"/assets/trofeos/reward-practica.png\"\n                  />\n                  <Typography variant=\"h4\" sx={{ mt: 2, mb: 1 }}>\n                    Muy bien!\n                  </Typography>\n                </Box>\n              </Box>\n              <Box sx={{display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', marginTop: '24px'}}>\n                <Button variant=\"outlined\" color=\"secondary\" startIcon={<ChevronLeftIcon />} onClick={() => {navigate(`/dashboard/explorar?grado=${grado}&tema=${tema}`, {replace: true})}}>\n                  Volvar al tema\n                </Button>\n                <Button variant=\"contained\" color=\"primary\" endIcon={<RestartAltIcon />} onClick={() => {handleReset()}} style={{marginLeft: '24px'}}>\n                  Comenzar otra practica\n                </Button>\n              </Box>\n            </React.Fragment>\n          ) : (\n            <React.Fragment>\n              <Box sx={{display: 'flex', flexDirection: 'column', justifyContent: 'center'}}>\n                <Box sx={{display: 'flex', flexDirection: 'row', justifyContent: 'space-around', marginTop: '24px'}}>\n                  {/*<Typography id=\"keep-mounted-modal-title\" variant=\"subtitle2\">\n                    Imagen\n                  </Typography>*/}\n                  <CardMedia\n                    component=\"img\"\n                    sx={{ maxWidth: 350, maxHeight: 300 }}\n                    image={steps[activeStep].imageSrc}\n                    alt={`imagen del vocablo ${steps[activeStep].vocablo_palabra}`}\n                  />\n                </Box>\n                <Box sx={{display: 'flex', flexDirection: 'row', justifyContent: 'space-around', marginTop: '24px'}}>\n                  {steps[activeStep].palabras_consulta.map(p => (\n                      <Button variant=\"outlined\" color=\"success\" onClick={() => setResponse({palabra: p})}>{p}</Button>\n                  ))}\n                </Box>\n\n              </Box>\n              {/*<Box sx={{ display: 'flex', flexDirection: 'row', pt: 2 }}>\n                <Button\n                  color=\"inherit\"\n                  disabled={activeStep === 0}\n                  onClick={handleBack}\n                  sx={{ mr: 1 }}\n                >\n                  Back\n                </Button>\n                <Box sx={{ flex: '1 1 auto' }} />\n                <Button onClick={handleNext} sx={{ mr: 1 }}>\n                  Next\n                </Button>\n                {activeStep !== steps.length &&\n                  (completed[activeStep] ? (\n                    <Typography variant=\"caption\" sx={{ display: 'inline-block' }}>\n                      Step {activeStep + 1} already completed\n                    </Typography>\n                  ) : (\n                    <Button onClick={handleComplete}>\n                      {completedSteps() === totalSteps() - 1\n                        ? 'Finish'\n                        : 'Complete Step'}\n                    </Button>\n                  ))}\n                      </Box>*/}\n            </React.Fragment>\n          )}\n        </div>\n        <VocabloModal vocablo={steps[activeStep]} />\n        <TrofeoModal trofeo={trofeoData} />\n      </Box>\n    )\n  ) \n  \n}\n","import * as React from 'react';\nimport {Box, Modal, Grid} from '@mui/material';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport Typography from '@mui/material/Typography';\nimport IconButton from '@mui/material/IconButton';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport Stack from '@mui/material/Stack';\nimport Chip from '@mui/material/Chip';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\n\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\n\n\nexport const styleUsuarioMonitorModal = {\n  position: 'absolute',\n  top: '20%',\n  left: '20%',\n  transform: 'translate(-10%, -10%)',\n  width: '80%',\n  minHeight: '400px',\n  height: '80%',\n  maxHeight: '80%',\n  bgcolor: 'background.paper',\n  border: '1px solid #666',\n  borderRadius: '16px',\n  boxShadow: 24,\n  // p: 4,\n  overflowY: 'hidden'\n};\n\nfunction getDateYYYYMMDD(date) {\n  const year = `${date.getFullYear()}`;\n  let month = `${date.getMonth() + 1}`;\n  month = month.length === 1 ? `0${month}`: month;\n\n  let day = `${date.getDate()}`;\n  day = day.length === 1 ? `0${day}`: day;\n  const fecha = `${year}-${month}-${day}`;\n\n  return fecha;\n}\n\nfunction getDateDDMMYYYY(date) {\n  const year = `${date.getFullYear()}`;\n  let month = `${date.getMonth() + 1}`;\n  month = month.length === 1 ? `0${month}`: month;\n\n  let day = `${date.getDate()}`;\n  day = day.length === 1 ? `0${day}`: day;\n  const fecha = `${day}/${month}/${year}`;\n\n  return fecha;\n}\n\nfunction LinearProgressWithLabel(props) {\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n      <Box sx={{ width: '100%', mr: 1 }}>\n        <LinearProgress variant=\"determinate\" {...props} />\n      </Box>\n      <Box sx={{ minWidth: 35 }}>\n        <Typography variant=\"body2\" color=\"text.secondary\">{`${Math.round(\n          props.value,\n        )}%`}</Typography>\n      </Box>\n    </Box>\n  );\n}\n\nexport default function UserMonitorModal({ usuarioRowData, setOpenModal }) {\n  const [open, setOpen] = React.useState(true);\n  const [loading, setLoading] = React.useState(false);\n  const [data, setData] = React.useState();\n\n  const [gradoSelected, setGradoSelected] = React.useState();\n  const [grados, setGrados] = React.useState();\n  const [rangeSelected, setRangeSelected] = React.useState();\n  const [fromDate, setFromDate] = React.useState(new Date());\n  const [toDate, setToDate] = React.useState(new Date());\n  const [canConsult, setCanConsult] = React.useState(true);\n\n  const checkCanConsult = ({newFromDate, newToDate}) => {\n    if (!newFromDate || !newToDate) {\n      setCanConsult(false);\n    } else if (newFromDate.getTime() > newToDate.getTime()) {\n      setCanConsult(false);\n    } else {\n      setCanConsult(true);\n    }\n  }\n\n  const setConsultByRange = ({ fromDate1, toDate1}) => {\n    const start = getDateYYYYMMDD(fromDate1);\n    const end = getDateYYYYMMDD(toDate1);\n\n    console.log({fromDate1, toDate1,start, end})\n    \n    setRangeSelected({start, end});\n    getUserMonitorData({usuarioTargetId: usuarioRowData.aprendiz_id, grado: gradoSelected, range: {start, end}});\n\n  };\n\n\n  // const handleOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n    setOpenModal(false);\n  };\n\n  const getUserMonitorData = async ({usuarioTargetId, grado, range}) => {\n    try {\n      setLoading(true);\n\n      let route = `http://localhost:4000/aprendices-monitor/user/${usuarioTargetId}`;\n\n      if (typeof grado === 'number' && !range) {\n        route = `${route}?grado=${grado}`;\n      } else if (typeof grado !== 'number' && range) {\n        route = `${route}?start=${range.start}&end=${range.end}`;\n      } else if (typeof grado === 'number' && range) {\n        route = `${route}?grado=${grado}&start=${range.start}&end=${range.end}`;\n      }\n      \n      const response = await fetch(route, {\n          method: \"GET\",\n          headers: {\n            \"Content-type\": \"application/json\",\n            \"token\": localStorage.token,\n          },\n        });\n  \n      const responseData = await response.json();\n  \n      console.log({responseData});\n      \n      setData(responseData);\n      setLoading(false);\n\n      if (responseData.grados) {\n        const g = responseData.grados.reduce((prev, current) => {prev[current.id] = current; return prev}, {});\n        setGrados(g);\n      }\n      \n\n    } catch(err) {\n      setLoading(false);\n      console.error(err);\n      // toast.error(\"Error de red\");\n    }\n\n  };\n\n  React.useEffect(() => {\n    getUserMonitorData({usuarioTargetId: usuarioRowData.aprendiz_id, grado: gradoSelected, range: rangeSelected});\n  }, []);\n\n  console.log({grados, gradoSelected})\n\n  return (\n    <div>\n      <Modal\n        // keepMounted\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"keep-mounted-modal-title\"\n        aria-describedby=\"keep-mounted-modal-description\"\n      >\n        <Box sx={styleUsuarioMonitorModal}>\n          <Box sx={{ display: 'flex', flexDirection: 'row', pt: 2, paddingLeft: '24px' }}>\n            <Typography variant=\"h4\" color=\"primary\">{`${usuarioRowData.nombre} ${usuarioRowData.apellido}`}</Typography>\n            <Box sx={{ flex: '1 1 auto' }} />\n            <IconButton aria-label=\"close modal\" onClick={handleClose}>\n              <ClearIcon />\n            </IconButton>\n          </Box>\n          {\n            loading ? \n            (<Grid container direction=\"row\" justifyContent=\"center\"><CircularProgress color=\"inherit\" size={30} /></Grid>) :\n            (<Box sx={{ width: '100%', height: '100%', overflowY: 'scroll', padding: '16px', paddingBottom: '64px'}}>\n              <Typography variant=\"h6\">\n                Filtros para consultar\n              </Typography>\n              <LocalizationProvider dateAdapter={AdapterDateFns}>\n                <Stack direction=\"row\" spacing={3} sx={{margin:'24px'}}>\n                  <DatePicker\n                    disableFuture\n                    label=\"Desde\"\n                    openTo=\"year\"\n                    views={['year', 'month', 'day']}\n                    value={fromDate}\n                    onChange={(newValue) => {\n                      setFromDate(newValue);\n                      checkCanConsult({newFromDate: newValue, newToDate: toDate});\n                      // setDateValue(newValue);\n                      // setInputs({...inputs, fecha_nacimiento: newValue})\n                      console.log({newValue, typeof: typeof newValue})\n                    }}\n                    renderInput={(params) => <TextField {...params} />}\n                  />\n\n                  <DatePicker\n                    disableFuture\n                    label=\"Hasta\"\n                    openTo=\"year\"\n                    views={['year', 'month', 'day']}\n                    value={toDate}\n                    onChange={(newValue) => {\n                      setToDate(newValue);\n                      checkCanConsult({newFromDate: fromDate, newToDate: newValue});\n\n                      // setDateValue(newValue);\n                      // setInputs({...inputs, fecha_nacimiento: newValue})\n                      console.log({newValue, typeof: typeof newValue})\n                    }}\n                    renderInput={(params) => <TextField {...params} />}\n                  />\n\n                  <Button variant=\"contained\" color=\"primary\" disabled={!canConsult} onClick={() => {setConsultByRange({fromDate1: fromDate, toDate1: toDate})}}>Consultar</Button>\n                </Stack>\n              </LocalizationProvider>\n              {\n                data && data.grados ? (\n                  <Stack direction=\"row\" spacing={1} sx={{margin:'0px 24px 24px 24px'}}>\n                    {\n                      gradoSelected === undefined ?\n                        (<Chip label=\"Todo\" color=\"primary\" /> ) :\n                        (<Chip label=\"Todo\" variant=\"outlined\" onClick={() => {\n                          setGradoSelected(undefined);\n                          getUserMonitorData({usuarioTargetId: usuarioRowData.aprendiz_id, grado: undefined, range: rangeSelected});\n                        }} />)  \n                    }\n\n                    {\n                      data.grados.map(elem => {\n                        return (\n                          gradoSelected === elem.id ?\n                          (<Chip label={elem.nombre} color=\"primary\"  />) : \n                          (<Chip label={elem.nombre} variant=\"outlined\" onClick={() => {\n                            setGradoSelected(elem.id);\n                            getUserMonitorData({usuarioTargetId: usuarioRowData.aprendiz_id, grado: elem.id, range: rangeSelected});\n                          }} />)\n                        );\n                      })\n                    }\n\n                  </Stack>\n                ): null\n              }\n              <Box>\n                {\n                  grados && gradoSelected !== undefined ?\n                  (\n                    <Typography variant=\"subtitle1\"> {`Aplicando filtro por grado: `}\n                      <Typography variant=\"string\" color=\"primary\">{grados[gradoSelected].nombre}</Typography>\n                      \n                      <IconButton aria-label=\"emove filter\" onClick={() => {\n                        setGradoSelected(undefined);\n                        getUserMonitorData({usuarioTargetId: usuarioRowData.aprendiz_id, grado: undefined, range: rangeSelected});\n                      }}>\n                        <DeleteIcon sx={{color: 'red'}} />\n                      </IconButton>\n                    </Typography> \n                  ) :\n                  (null)\n                } \n                {\n                  rangeSelected ?\n                  (\n                    <Typography variant=\"subtitle1\"> {`Aplicando filtro por rango: `}\n                      Desde <Typography variant=\"string\" color=\"primary\">{getDateDDMMYYYY(fromDate)}</Typography> hasta <Typography variant=\"string\" color=\"primary\">{getDateDDMMYYYY(toDate)}</Typography>\n                      \n                      <IconButton aria-label=\"remove filter\" onClick={() => {\n                        setRangeSelected(undefined);\n                        getUserMonitorData({usuarioTargetId: usuarioRowData.aprendiz_id, grado: gradoSelected, range: undefined});\n                      }}>\n                        <DeleteIcon sx={{color: 'red'}} />\n                      </IconButton>\n                    </Typography>\n                  ) :\n                  (null)\n                } \n              </Box>\n              <Typography variant=\"h6\">\n                Información acerca de las practicas\n              </Typography>\n              <TableContainer component={Paper} sx={{margin: \"24px 0px\"}}>\n                <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell align=\"right\">Practicas{<br/>}realizadas</TableCell>\n                      <TableCell align=\"right\">Practicas{<br/>}ultimos 7 dias</TableCell>\n                      <TableCell align=\"right\">Consultas{<br/>}correctas</TableCell>\n                      <TableCell align=\"right\">Consultas{<br/>}incorrectas</TableCell>\n                      <TableCell align=\"right\">Puntos</TableCell>\n                      <TableCell align=\"right\">Trofeos</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                      <TableRow\n                        key=\"row-x-1\"\n                        sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                      >\n                        <TableCell align=\"right\">{data && data.practicas_realizadas ? data.practicas_realizadas: 0}</TableCell>\n                        <TableCell align=\"right\">{data && data.practicas_last_7days ? data.practicas_last_7days: 0 }</TableCell>\n                        <TableCell align=\"right\">{data && data.total_correctas ? data.total_correctas: 0}</TableCell>\n                        <TableCell align=\"right\">{data && data.total_incorrectas ? data.total_incorrectas: 0}</TableCell>\n                        <TableCell align=\"right\">{data && data.total_correctas ? data.total_correctas * 100: 0}</TableCell>\n                        <TableCell align=\"right\">\n                          {\n                            (gradoSelected === undefined && data && data.trofeos) ?\n                              `${data.trofeos.imparable || 0} Imparables, ${data.trofeos.agil || 0} Agil, ${usuarioRowData.trofeos_leal} Leal`:\n                              (data && data.trofeos ? `${data.trofeos.imparable || 0} Imparables, ${data.trofeos.agil || 0} Agil` : '')\n                          }\n                        </TableCell>\n                      </TableRow>\n                  </TableBody>\n                </Table>\n              </TableContainer>    \n              <Typography variant=\"h6\">\n                Vocablos vistos y contestados de forma correcta por tema\n              </Typography>\n              <List sx={{ width: '100%', bgcolor: 'background.paper', }}>\n\n                {data && data.temas_data ? data.temas_data.map(elem => {\n                  const correctos = elem.vocablos_correctos_counter || 0;\n                  const vistos = elem.vocablos_vistos_counter || 0;\n                  const total = elem.vocablos_counter || 0;\n\n                  if (total === 0) {\n                    return null;\n                  }\n\n                  return (\n                    <ListItem key={elem.tema_id}>\n                    <ListItemAvatar>\n                      <Avatar src={elem.data.image_src}>\n                      </Avatar>\n                    </ListItemAvatar>\n                    <ListItemText\n                      primary={elem.data.nombre}\n                      secondary={\n                        <React.Fragment>\n                          <Box sx={{ width: '100%' }}>\n                            <span style={{fontSize: '90%'}}>\n                              Vistos ({`${vistos}/${total}`})\n                            </span>\n                            <LinearProgressWithLabel value={(vistos/total * 100)} color=\"secondary\" />\n                          </Box>\n                          <Box sx={{ width: '100%' }}>\n                            <span style={{fontSize: '90%'}}>\n                              Correctos ({`${correctos}/${total}`})\n                            </span>\n                            <LinearProgressWithLabel value={(correctos/total * 100)} />\n                          </Box>\n                        </React.Fragment>\n                      } />\n                    </ListItem>\n                  )\n                }): null}\n                \n              </List>\n\n            </Box>)\n          }\n        </Box>\n      </Modal>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { toast } from \"react-toastify\";\n\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Typography from '@mui/material/Typography';\nimport IconButton from '@mui/material/IconButton';\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\nimport validateEmail from '../utils/validateEmail';\nimport UserMonitorModal from './UserMonitorModal';\n\nexport const styleUsuarioMonitorModal = {\n  position: 'absolute',\n  top: '20%',\n  left: '20%',\n  transform: 'translate(-10%, -10%)',\n  width: '80%',\n  minHeight: '400px',\n  bgcolor: 'background.paper',\n  border: '1px solid #666',\n  borderRadius: '16px',\n  boxShadow: 24,\n  p: 4,\n};\n\n\n\nexport default function AprendicesMonitor() {\n\n  const [loading, setLoading] = React.useState(false);\n  const [usersData, setUsersData] = React.useState([]);\n  const [addLoading, setAddLoading] = React.useState(false);\n  const [removeLoading, setRemoveLoading] = React.useState();\n  const [error, setError] = React.useState(false);\n  const [correo, setCorreo] = React.useState();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      setAddLoading(true);\n      const body = { correo };\n      const response = await fetch(\"http://localhost:4000/aprendices-monitor/add\", {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          \"token\": localStorage.token,\n        },\n        body: JSON.stringify(body),\n      });\n      \n      if (response.status === 204) {\n        toast.success(\"Usuario agregado al monitor correctamente.\");\n      } else {\n        toast.error(\"Error desconocido\");\n      }\n\n      getUsersMonitorData();\n      setAddLoading(false);\n      setCorreo(undefined);\n\n      // toast.success(\"Logged in Successfully\");\n      // toast.error(parseRes);\n\n    } catch (err) {\n      console.error(err.message);\n      setAddLoading(false);\n    }\n  };\n  \n  const handleChange = (e) => {\n    const email = e.target.value\n    if (!validateEmail(email)) {\n      setError(true);\n    } else {\n      setError(false);\n    }\n\n    setCorreo(email);\n  }\n\n  const getUsersMonitorData = async () => {\n\n    try {\n      setLoading(true);\n      const response = await fetch(\"http://localhost:4000/aprendices-monitor/users\", {\n        method: \"GET\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          \"token\": localStorage.token,\n        },\n      });\n\n      const responseData = await response.json();\n\n      console.log({responseData});\n\n      setUsersData(responseData);\n      setLoading(false);\n\n      \n      // toast.success(\"Logged in Successfully\");\n      // toast.error(parseRes);\n\n    } catch (err) {\n      console.error(err.message);\n      setLoading(false);\n    }\n  }\n\n  const removeUser = async ({correo}) => {\n\n    try {\n      setRemoveLoading(correo);\n      const body = { correo };\n      const response = await fetch(\"http://localhost:4000/aprendices-monitor/remove\", {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          \"token\": localStorage.token,\n        },\n        body: JSON.stringify(body),\n      });\n\n            \n      if (response.status === 204) {\n        toast.success(\"Usuario eliminado correctamente.\");\n      } else {\n        toast.error(\"Error desconocido\");\n      }\n\n      getUsersMonitorData();\n      setRemoveLoading(undefined);\n\n    } catch (err) {\n      console.error(err.message);\n      setRemoveLoading(undefined);\n    }\n  };\n\n  React.useEffect(() => {\n    getUsersMonitorData();\n  }, []);\n\n\n  //Usuario Monitor Modal\n\n  const [openModal, setOpenModal] = React.useState(false);\n  const [usuarioRowData, setUsuarioRowData] = React.useState();\n  \n  return (\n    <Box sx={{display: 'flex', flexDirection: 'column'}}>\n      <Box>\n        <Typography component=\"h1\"  variant=\"h6\" color=\"inherit\" noWrap sx={{ flexGrow: 1 }}>\n          Agrega aprendices para ser monitoreados\n        </Typography>\n      </Box>\n      <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\n        <TextField\n          margin=\"normal\"\n          error={error}\n          required\n          id=\"email\"\n          label=\"Correo electronico\"\n          name=\"email\"\n          type=\"email\"\n          onChange={handleChange}\n          autoComplete=\"email\"\n        />\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={!correo || error || addLoading}\n          sx= {{marginLeft: '24px'}}\n        >\n          {addLoading ? (\n              <CircularProgress color=\"inherit\" size={25} />\n            ) : (\n              \"Agregar aprendiz para monitorear\"\n            )}\n        </Button>\n      </Box>\n      <Box sx={{marginTop: \"32px\"}}>\n        <Typography component=\"h1\"  variant=\"h6\" color=\"inherit\" noWrap sx={{ flexGrow: 1 }}>\n          Aprendices monitoreando {loading ? (<CircularProgress color=\"primary\" size={20} />) : (null)}\n        </Typography>\n      </Box>\n      <Box>\n        <TableContainer component={Paper}>\n          <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Nombre</TableCell>\n                <TableCell align=\"right\">Correo</TableCell>\n                <TableCell align=\"right\">Practicas{<br/>}realizadas</TableCell>\n                <TableCell align=\"right\">Consultas{<br/>}correctas</TableCell>\n                <TableCell align=\"right\">Consultas{<br/>}incorrectas</TableCell>\n                <TableCell align=\"right\">Puntos</TableCell>\n                <TableCell align=\"right\">Trofeos</TableCell>\n                <TableCell align=\"right\">Acción</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {usersData.map((row) => (\n                <TableRow\n                  key={row.correo}\n                  sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                >\n                  <TableCell component=\"th\" scope=\"row\">\n                    <Button variant=\"text\" onClick={() => {setUsuarioRowData(row); setOpenModal(true);}}>\n                      {`${row.nombre} ${row.apellido}`}\n                    </Button>\n                  </TableCell>\n                  <TableCell align=\"right\">{row.correo}</TableCell>\n                  <TableCell align=\"right\">{row.practicas_realizadas}</TableCell>\n                  <TableCell align=\"right\">{row.consultas_correctas}</TableCell>\n                  <TableCell align=\"right\">{row.consultas_incorrectas}</TableCell>\n                  <TableCell align=\"right\">{row.puntos_acumulados}</TableCell>\n                  <TableCell align=\"right\">\n                    {`${row.trofeos_imparables} Imparables, ${row.trofeos_agil} Agil, ${row.trofeos_leal} Leal`}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {removeLoading !== row.correo ?\n                     (<IconButton color=\"error\"\n                      aria-label=\"remove element\"\n                      component=\"span\"\n                      onClick={async () => { await removeUser({correo: row.correo})}}>\n                        <DeleteForeverIcon />\n                      </IconButton>) : (<CircularProgress color=\"error\" size={20} />)}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Box>\n      {openModal ? <UserMonitorModal usuarioRowData={usuarioRowData} setOpenModal={setOpenModal}/>: null}\n    </Box>\n  );\n}","// import TaskForm from \"./components/TaskForm\";\n// import TasksList from \"./components/TasksList\";\n// import Menu from \"./components/Navbar\";\n// import { BrowserRouter, Route, Routes } from \"react-router-dom\";\n// import { Container } from \"@mui/material\";\n\n// function App() {\n//   return (\n//     <BrowserRouter>\n//       <Menu />\n//       <Container>\n//         <Routes>\n//           <Route index path=\"/\" element={<TasksList />} />\n//           <Route path=\"/tasks/new\" element={<TaskForm />} />\n//           <Route path=\"/tasks/:id/edit\" element={<TaskForm />} />\n//         </Routes>\n//       </Container>\n//     </BrowserRouter>\n//   );\n// }\n\n// export default App;\n\nimport React, { useState, useEffect } from \"react\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport {\n  BrowserRouter, Route, Routes, Navigate, Outlet\n} from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport SignIn from \"./components/SignIn\";\nimport SignUp from \"./components/SignUp\";\nimport Dashboard from \"./components/Dashboard\";\nimport Explorar from \"./components/Explorar\";\nimport Practica from \"./components/Practica\";\nimport AprendicesMonitor from \"./components/AprendicesMonitor\";\n\n// toast.configure();\n\n// const ProtectedRoute = ({\n//   isAllowed,\n//   redirectPath = '/login',\n//   children,\n// }) => {\n//   if (!isAllowed) {\n//     return <Navigate to={redirectPath} replace />;\n//   }\n\n//   return children ? children : <Outlet />;\n// };\n\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  useEffect(() => {\n    checkAuthenticated();\n  }, []);\n\n  const setAuth = (status) => {\n    console.log(\"auth changed\", {status})\n    setIsAuthenticated(status);\n  };\n\n  // TODO: Completar logica SignIn\n  // TODO: Completar logica SignUp\n\n  const checkAuthenticated = async () => {\n    try {\n      const res = await fetch(\"http://localhost:4000/auth/verify\", {\n        method: \"POST\",\n        headers: { token: localStorage.token },\n      });\n\n      const parseRes = await res.json();\n\n      parseRes === true ? setIsAuthenticated(true) : setIsAuthenticated(false);\n    } catch (err) {\n      console.log({err});\n      console.error(err.message);\n      setIsAuthenticated(false);\n    }\n  };\n\n  return (\n    <>\n      <BrowserRouter>\n        <div className=\"\">\n          <Body isAuthenticated={isAuthenticated} setAuth={setAuth} />\n          <ToastContainer/>\n        </div>\n      </BrowserRouter>\n    </>\n  );\n}\n\nexport const Body = ({ isAuthenticated, setAuth }) => (\n  <Routes>\n    <Route index path=\"/\" element={\n      isAuthenticated ? (\n        <Navigate to=\"/dashboard\" />\n      ) : (\n        <SignIn  setAuth={setAuth} />\n      )\n    } />\n    <Route\n      path=\"/login\"\n      element={!isAuthenticated ? (\n        <SignIn  setAuth={setAuth} />\n      ) : (\n        <Navigate to=\"/dashboard\" />\n      )}\n    />\n    <Route\n      path=\"/register\"\n      element={\n        !isAuthenticated ? (\n          <SignUp setAuth={setAuth} />\n        ) : (\n          <Navigate to=\"/dashboard\" />\n        )\n      }\n    />\n    <Route path=\"/dashboard\" element={ isAuthenticated ? (<Dashboard setAuth={setAuth}/>) : <Navigate to=\"/login\" />}>\n      \n      <Route path=\"explorar\" element={\n          <Explorar />\n      } />\n      <Route path=\"practica\" element={\n          <Practica />\n      } />\n      <Route path=\"aprendices\" element={\n        <AprendicesMonitor />\n      } />\n    </Route>\n  </Routes>\n  );\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}